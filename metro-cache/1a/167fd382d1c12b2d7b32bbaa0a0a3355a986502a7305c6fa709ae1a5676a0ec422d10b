{"dependencies":[{"name":"./random/random-from-seed","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var randomFromSeed = _$$_REQUIRE(_dependencyMap[0], \"./random/random-from-seed\");\n\n  var ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\n  var alphabet;\n  var previousSeed;\n  var shuffled;\n\n  function reset() {\n    shuffled = false;\n  }\n\n  function setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n      if (alphabet !== ORIGINAL) {\n        alphabet = ORIGINAL;\n        reset();\n      }\n\n      return;\n    }\n\n    if (_alphabet_ === alphabet) {\n      return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n      throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function (item, ind, arr) {\n      return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n      throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n  }\n\n  function characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n  }\n\n  function setSeed(seed) {\n    randomFromSeed.seed(seed);\n\n    if (previousSeed !== seed) {\n      reset();\n      previousSeed = seed;\n    }\n  }\n\n  function shuffle() {\n    if (!alphabet) {\n      setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n      r = randomFromSeed.nextValue();\n      characterIndex = Math.floor(r * sourceArray.length);\n      targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n\n    return targetArray.join('');\n  }\n\n  function getShuffled() {\n    if (shuffled) {\n      return shuffled;\n    }\n\n    shuffled = shuffle();\n    return shuffled;\n  }\n\n  function lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n  }\n\n  function get() {\n    return alphabet || ORIGINAL;\n  }\n\n  module.exports = {\n    get: get,\n    characters: characters,\n    seed: setSeed,\n    lookup: lookup,\n    shuffled: getShuffled\n  };\n});","lineCount":103,"map":[[2,0,1,0],[4,0,3,0],[4,6,3,4,"randomFromSeed"],[4,20,3,18],[4,23,3,21,"require"],[4,34,3,28],[4,82,3,0],[6,0,5,0],[6,6,5,4,"ORIGINAL"],[6,14,5,12],[6,17,5,15],[6,83,5,0],[7,0,6,0],[7,6,6,4,"alphabet"],[7,14,6,0],[8,0,7,0],[8,6,7,4,"previousSeed"],[8,18,7,0],[9,0,9,0],[9,6,9,4,"shuffled"],[9,14,9,0],[11,0,11,0],[11,11,11,9,"reset"],[11,16,11,0],[11,19,11,17],[12,0,12,4,"shuffled"],[12,4,12,4,"shuffled"],[12,12,12,12],[12,15,12,15],[12,20,12,4],[13,0,13,1],[15,0,15,0],[15,11,15,9,"setCharacters"],[15,24,15,0],[15,25,15,23,"_alphabet_"],[15,35,15,0],[15,37,15,35],[16,0,16,4],[16,8,16,8],[16,9,16,9,"_alphabet_"],[16,19,16,4],[16,21,16,21],[17,0,17,8],[17,10,17,12,"alphabet"],[17,18,17,20],[17,23,17,25,"ORIGINAL"],[17,31,17,8],[17,33,17,35],[18,0,18,12,"alphabet"],[18,8,18,12,"alphabet"],[18,16,18,20],[18,19,18,23,"ORIGINAL"],[18,27,18,12],[19,0,19,12,"reset"],[19,8,19,12,"reset"],[19,13,19,17],[20,0,20,9],[22,0,21,8],[23,0,22,5],[25,0,24,4],[25,8,24,8,"_alphabet_"],[25,18,24,18],[25,23,24,23,"alphabet"],[25,31,24,4],[25,33,24,33],[26,0,25,8],[27,0,26,5],[29,0,28,4],[29,8,28,8,"_alphabet_"],[29,18,28,18],[29,19,28,19,"length"],[29,25,28,8],[29,30,28,30,"ORIGINAL"],[29,38,28,38],[29,39,28,39,"length"],[29,45,28,4],[29,47,28,47],[30,0,29,8],[30,12,29,14],[30,16,29,18,"Error"],[30,21,29,14],[30,22,29,24],[30,63,29,65,"ORIGINAL"],[30,71,29,73],[30,72,29,74,"length"],[30,78,29,24],[30,81,29,83],[30,117,29,24],[30,120,29,122,"_alphabet_"],[30,130,29,132],[30,131,29,133,"length"],[30,137,29,24],[30,140,29,142],[30,155,29,24],[30,158,29,160,"_alphabet_"],[30,168,29,14],[30,169,29,8],[31,0,30,5],[33,0,32,4],[33,8,32,8,"unique"],[33,14,32,14],[33,17,32,17,"_alphabet_"],[33,27,32,27],[33,28,32,28,"split"],[33,33,32,17],[33,34,32,34],[33,36,32,17],[33,38,32,38,"filter"],[33,44,32,17],[33,45,32,45],[33,55,32,54,"item"],[33,59,32,45],[33,61,32,60,"ind"],[33,64,32,45],[33,66,32,65,"arr"],[33,69,32,45],[33,71,32,69],[34,0,33,7],[34,13,33,14,"ind"],[34,16,33,17],[34,21,33,22,"arr"],[34,24,33,25],[34,25,33,26,"lastIndexOf"],[34,36,33,22],[34,37,33,38,"item"],[34,41,33,22],[34,42,33,7],[35,0,34,5],[35,5,32,17],[35,6,32,4],[37,0,36,4],[37,8,36,8,"unique"],[37,14,36,14],[37,15,36,15,"length"],[37,21,36,4],[37,23,36,23],[38,0,37,8],[38,12,37,14],[38,16,37,18,"Error"],[38,21,37,14],[38,22,37,24],[38,63,37,65,"ORIGINAL"],[38,71,37,73],[38,72,37,74,"length"],[38,78,37,24],[38,81,37,83],[38,137,37,24],[38,140,37,142,"unique"],[38,146,37,148],[38,147,37,149,"join"],[38,151,37,142],[38,152,37,154],[38,156,37,142],[38,157,37,14],[38,158,37,8],[39,0,38,5],[41,0,40,4,"alphabet"],[41,4,40,4,"alphabet"],[41,12,40,12],[41,15,40,15,"_alphabet_"],[41,25,40,4],[42,0,41,4,"reset"],[42,4,41,4,"reset"],[42,9,41,9],[43,0,42,1],[45,0,44,0],[45,11,44,9,"characters"],[45,21,44,0],[45,22,44,20,"_alphabet_"],[45,32,44,0],[45,34,44,32],[46,0,45,4,"setCharacters"],[46,4,45,4,"setCharacters"],[46,17,45,17],[46,18,45,18,"_alphabet_"],[46,28,45,17],[46,29,45,4],[47,0,46,4],[47,11,46,11,"alphabet"],[47,19,46,4],[48,0,47,1],[50,0,49,0],[50,11,49,9,"setSeed"],[50,18,49,0],[50,19,49,17,"seed"],[50,23,49,0],[50,25,49,23],[51,0,50,4,"randomFromSeed"],[51,4,50,4,"randomFromSeed"],[51,18,50,18],[51,19,50,19,"seed"],[51,23,50,4],[51,24,50,24,"seed"],[51,28,50,4],[53,0,51,4],[53,8,51,8,"previousSeed"],[53,20,51,20],[53,25,51,25,"seed"],[53,29,51,4],[53,31,51,31],[54,0,52,8,"reset"],[54,6,52,8,"reset"],[54,11,52,13],[55,0,53,8,"previousSeed"],[55,6,53,8,"previousSeed"],[55,18,53,20],[55,21,53,23,"seed"],[55,25,53,8],[56,0,54,5],[57,0,55,1],[59,0,57,0],[59,11,57,9,"shuffle"],[59,18,57,0],[59,21,57,19],[60,0,58,4],[60,8,58,8],[60,9,58,9,"alphabet"],[60,17,58,4],[60,19,58,19],[61,0,59,8,"setCharacters"],[61,6,59,8,"setCharacters"],[61,19,59,21],[61,20,59,22,"ORIGINAL"],[61,28,59,21],[61,29,59,8],[62,0,60,5],[64,0,62,4],[64,8,62,8,"sourceArray"],[64,19,62,19],[64,22,62,22,"alphabet"],[64,30,62,30],[64,31,62,31,"split"],[64,36,62,22],[64,37,62,37],[64,39,62,22],[64,40,62,4],[65,0,63,4],[65,8,63,8,"targetArray"],[65,19,63,19],[65,22,63,22],[65,24,63,4],[66,0,64,4],[66,8,64,8,"r"],[66,9,64,9],[66,12,64,12,"randomFromSeed"],[66,26,64,26],[66,27,64,27,"nextValue"],[66,36,64,12],[66,38,64,4],[67,0,65,4],[67,8,65,8,"characterIndex"],[67,22,65,4],[69,0,67,4],[69,11,67,11,"sourceArray"],[69,22,67,22],[69,23,67,23,"length"],[69,29,67,11],[69,32,67,32],[69,33,67,4],[69,35,67,35],[70,0,68,8,"r"],[70,6,68,8,"r"],[70,7,68,9],[70,10,68,12,"randomFromSeed"],[70,24,68,26],[70,25,68,27,"nextValue"],[70,34,68,12],[70,36,68,8],[71,0,69,8,"characterIndex"],[71,6,69,8,"characterIndex"],[71,20,69,22],[71,23,69,25,"Math"],[71,27,69,29],[71,28,69,30,"floor"],[71,33,69,25],[71,34,69,36,"r"],[71,35,69,37],[71,38,69,40,"sourceArray"],[71,49,69,51],[71,50,69,52,"length"],[71,56,69,25],[71,57,69,8],[72,0,70,8,"targetArray"],[72,6,70,8,"targetArray"],[72,17,70,19],[72,18,70,20,"push"],[72,22,70,8],[72,23,70,25,"sourceArray"],[72,34,70,36],[72,35,70,37,"splice"],[72,41,70,25],[72,42,70,44,"characterIndex"],[72,56,70,25],[72,58,70,60],[72,59,70,25],[72,61,70,63],[72,62,70,25],[72,63,70,8],[73,0,71,5],[75,0,72,4],[75,11,72,11,"targetArray"],[75,22,72,22],[75,23,72,23,"join"],[75,27,72,11],[75,28,72,28],[75,30,72,11],[75,31,72,4],[76,0,73,1],[78,0,75,0],[78,11,75,9,"getShuffled"],[78,22,75,0],[78,25,75,23],[79,0,76,4],[79,8,76,8,"shuffled"],[79,16,76,4],[79,18,76,18],[80,0,77,8],[80,13,77,15,"shuffled"],[80,21,77,8],[81,0,78,5],[83,0,79,4,"shuffled"],[83,4,79,4,"shuffled"],[83,12,79,12],[83,15,79,15,"shuffle"],[83,22,79,22],[83,24,79,4],[84,0,80,4],[84,11,80,11,"shuffled"],[84,19,80,4],[85,0,81,1],[87,0,88,0],[87,11,88,9,"lookup"],[87,17,88,0],[87,18,88,16,"index"],[87,23,88,0],[87,25,88,23],[88,0,89,4],[88,8,89,8,"alphabetShuffled"],[88,24,89,24],[88,27,89,27,"getShuffled"],[88,38,89,38],[88,40,89,4],[89,0,90,4],[89,11,90,11,"alphabetShuffled"],[89,27,90,27],[89,28,90,28,"index"],[89,33,90,27],[89,34,90,4],[90,0,91,1],[92,0,93,0],[92,11,93,9,"get"],[92,14,93,0],[92,17,93,16],[93,0,94,2],[93,11,94,9,"alphabet"],[93,19,94,17],[93,23,94,21,"ORIGINAL"],[93,31,94,2],[94,0,95,1],[96,0,97,0,"module"],[96,2,97,0,"module"],[96,8,97,6],[96,9,97,7,"exports"],[96,16,97,0],[96,19,97,17],[97,0,98,4,"get"],[97,4,98,4,"get"],[97,7,98,7],[97,9,98,9,"get"],[97,12,97,17],[98,0,99,4,"characters"],[98,4,99,4,"characters"],[98,14,99,14],[98,16,99,16,"characters"],[98,26,97,17],[99,0,100,4,"seed"],[99,4,100,4,"seed"],[99,8,100,8],[99,10,100,10,"setSeed"],[99,17,97,17],[100,0,101,4,"lookup"],[100,4,101,4,"lookup"],[100,10,101,10],[100,12,101,12,"lookup"],[100,18,97,17],[101,0,102,4,"shuffled"],[101,4,102,4,"shuffled"],[101,12,102,12],[101,14,102,14,"getShuffled"],[102,0,97,17],[102,3,97,0]],"functionMap":{"names":["<global>","reset","setCharacters","_alphabet_.split.filter$argument_0","characters","setSeed","shuffle","getShuffled","lookup","get"],"mappings":"AAA;ACU;CDE;AEE;6CCiB;KDE;CFQ;AIE;CJG;AKE;CLM;AME;CNgB;AOE;CPM;AQO;CRG;ASE;CTE"}},"type":"js/module"}]}