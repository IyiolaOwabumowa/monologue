{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"react","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}},{"name":"@react-navigation/core","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireWildcard = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireWildcard\");\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useLinking;\n\n  var _regenerator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/regenerator\"));\n\n  var React = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[3], \"react\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[4], \"react-native\");\n\n  var _core = _$$_REQUIRE(_dependencyMap[5], \"@react-navigation/core\");\n\n  var isUsingLinking = false;\n\n  function useLinking(ref, _ref) {\n    var prefixes = _ref.prefixes,\n        config = _ref.config,\n        _ref$getStateFromPath = _ref.getStateFromPath,\n        getStateFromPath = _ref$getStateFromPath === void 0 ? _core.getStateFromPath : _ref$getStateFromPath;\n    React.useEffect(function () {\n      if (isUsingLinking) {\n        throw new Error(\"Looks like you are using 'useLinking' in multiple components. This is likely an error since deep links should only be handled in one place to avoid conflicts.\");\n      } else {\n        isUsingLinking = true;\n      }\n\n      return function () {\n        isUsingLinking = false;\n      };\n    });\n    var prefixesRef = React.useRef(prefixes);\n    var configRef = React.useRef(config);\n    var getStateFromPathRef = React.useRef(getStateFromPath);\n    React.useEffect(function () {\n      prefixesRef.current = prefixes;\n      configRef.current = config;\n      getStateFromPathRef.current = getStateFromPath;\n    }, [config, getStateFromPath, prefixes]);\n    var extractPathFromURL = React.useCallback(function (url) {\n      for (var _iterator = prefixesRef.current, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[typeof Symbol === \"function\" ? Symbol.iterator : \"@@iterator\"]();;) {\n        var _ref2;\n\n        if (_isArray) {\n          if (_i >= _iterator.length) break;\n          _ref2 = _iterator[_i++];\n        } else {\n          _i = _iterator.next();\n          if (_i.done) break;\n          _ref2 = _i.value;\n        }\n\n        var _prefix = _ref2;\n\n        if (url.startsWith(_prefix)) {\n          return url.replace(_prefix, '');\n        }\n      }\n\n      return undefined;\n    }, []);\n    var getInitialState = React.useCallback(function _callee() {\n      var url, path;\n      return _regenerator.default.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regenerator.default.awrap(_reactNative.Linking.getInitialURL());\n\n            case 2:\n              url = _context.sent;\n              path = url ? extractPathFromURL(url) : null;\n\n              if (!path) {\n                _context.next = 8;\n                break;\n              }\n\n              return _context.abrupt(\"return\", getStateFromPathRef.current(path, configRef.current));\n\n            case 8:\n              return _context.abrupt(\"return\", undefined);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }, [extractPathFromURL]);\n    React.useEffect(function () {\n      var listener = function listener(_ref3) {\n        var url = _ref3.url;\n        var path = extractPathFromURL(url);\n        var navigation = ref.current;\n\n        if (navigation && path) {\n          var state = getStateFromPathRef.current(path, configRef.current);\n\n          if (state) {\n            var action = (0, _core.getActionFromState)(state);\n\n            if (action !== undefined) {\n              navigation.dispatch(action);\n            } else {\n              navigation.resetRoot(state);\n            }\n          }\n        }\n      };\n\n      _reactNative.Linking.addEventListener('url', listener);\n\n      return function () {\n        return _reactNative.Linking.removeEventListener('url', listener);\n      };\n    }, [extractPathFromURL, ref]);\n    return {\n      getInitialState: getInitialState\n    };\n  }\n});","lineCount":128,"map":[[13,0,1,0],[15,0,2,0],[17,0,3,0],[19,0,10,0],[19,6,10,4,"isUsingLinking"],[19,20,10,18],[19,23,10,21],[19,28,10,0],[21,0,12,15],[21,11,12,24,"useLinking"],[21,21,12,15],[21,22,13,2,"ref"],[21,25,12,15],[21,33,19,2],[22,0,19,2],[22,8,15,4,"prefixes"],[22,16,19,2],[22,24,15,4,"prefixes"],[22,32,19,2],[23,0,19,2],[23,8,16,4,"config"],[23,14,19,2],[23,22,16,4,"config"],[23,28,19,2],[24,0,19,2],[24,37,17,4,"getStateFromPath"],[24,53,19,2],[25,0,19,2],[25,8,17,4,"getStateFromPath"],[25,24,19,2],[25,62,17,23,"getStateFromPathDefault"],[25,84,19,2],[26,0,20,2,"React"],[26,4,20,2,"React"],[26,9,20,7],[26,10,20,8,"useEffect"],[26,19,20,2],[26,20,20,18],[26,32,20,24],[27,0,21,4],[27,10,21,8,"isUsingLinking"],[27,24,21,4],[27,26,21,24],[28,0,22,6],[28,14,22,12],[28,18,22,16,"Error"],[28,23,22,12],[28,24,23,8],[28,184,22,12],[28,185,22,6],[29,0,25,5],[29,7,21,4],[29,13,25,11],[30,0,26,6,"isUsingLinking"],[30,8,26,6,"isUsingLinking"],[30,22,26,20],[30,25,26,23],[30,29,26,6],[31,0,27,5],[33,0,29,4],[33,13,29,11],[33,25,29,17],[34,0,30,6,"isUsingLinking"],[34,8,30,6,"isUsingLinking"],[34,22,30,20],[34,25,30,23],[34,30,30,6],[35,0,31,5],[35,7,29,4],[36,0,32,3],[36,5,20,2],[37,0,37,2],[37,8,37,8,"prefixesRef"],[37,19,37,19],[37,22,37,22,"React"],[37,27,37,27],[37,28,37,28,"useRef"],[37,34,37,22],[37,35,37,35,"prefixes"],[37,43,37,22],[37,44,37,2],[38,0,38,2],[38,8,38,8,"configRef"],[38,17,38,17],[38,20,38,20,"React"],[38,25,38,25],[38,26,38,26,"useRef"],[38,32,38,20],[38,33,38,33,"config"],[38,39,38,20],[38,40,38,2],[39,0,39,2],[39,8,39,8,"getStateFromPathRef"],[39,27,39,27],[39,30,39,30,"React"],[39,35,39,35],[39,36,39,36,"useRef"],[39,42,39,30],[39,43,39,43,"getStateFromPath"],[39,59,39,30],[39,60,39,2],[40,0,41,2,"React"],[40,4,41,2,"React"],[40,9,41,7],[40,10,41,8,"useEffect"],[40,19,41,2],[40,20,41,18],[40,32,41,24],[41,0,42,4,"prefixesRef"],[41,6,42,4,"prefixesRef"],[41,17,42,15],[41,18,42,16,"current"],[41,25,42,4],[41,28,42,26,"prefixes"],[41,36,42,4],[42,0,43,4,"configRef"],[42,6,43,4,"configRef"],[42,15,43,13],[42,16,43,14,"current"],[42,23,43,4],[42,26,43,24,"config"],[42,32,43,4],[43,0,44,4,"getStateFromPathRef"],[43,6,44,4,"getStateFromPathRef"],[43,25,44,23],[43,26,44,24,"current"],[43,33,44,4],[43,36,44,34,"getStateFromPath"],[43,52,44,4],[44,0,45,3],[44,5,41,2],[44,7,45,5],[44,8,45,6,"config"],[44,14,45,5],[44,16,45,14,"getStateFromPath"],[44,32,45,5],[44,34,45,32,"prefixes"],[44,42,45,5],[44,43,41,2],[45,0,47,2],[45,8,47,8,"extractPathFromURL"],[45,26,47,26],[45,29,47,29,"React"],[45,34,47,34],[45,35,47,35,"useCallback"],[45,46,47,29],[45,47,47,47],[45,57,47,48,"url"],[45,60,47,47],[45,62,47,64],[46,0,48,4],[46,27,48,25,"prefixesRef"],[46,38,48,36],[46,39,48,37,"current"],[46,46,48,4],[46,206,48,46],[47,0,48,46],[49,0,48,46],[50,0,48,46],[51,0,48,46],[52,0,48,46],[53,0,48,46],[54,0,48,46],[55,0,48,46],[56,0,48,46],[58,0,48,46],[58,12,48,15,"prefix"],[58,19,48,46],[60,0,49,6],[60,12,49,10,"url"],[60,15,49,13],[60,16,49,14,"startsWith"],[60,26,49,10],[60,27,49,25,"prefix"],[60,34,49,10],[60,35,49,6],[60,37,49,34],[61,0,50,8],[61,17,50,15,"url"],[61,20,50,18],[61,21,50,19,"replace"],[61,28,50,15],[61,29,50,27,"prefix"],[61,36,50,15],[61,38,50,35],[61,40,50,15],[61,41,50,8],[62,0,51,7],[63,0,52,5],[65,0,54,4],[65,13,54,11,"undefined"],[65,22,54,4],[66,0,55,3],[66,5,47,29],[66,7,55,5],[66,9,47,29],[66,10,47,2],[67,0,57,2],[67,8,57,8,"getInitialState"],[67,23,57,23],[67,26,57,26,"React"],[67,31,57,31],[67,32,57,32,"useCallback"],[67,43,57,26],[67,44,57,44],[68,0,57,44],[69,0,57,44],[70,0,57,44],[71,0,57,44],[72,0,57,44],[73,0,57,44],[74,0,57,44],[74,48,58,22,"Linking"],[74,69,58,30,"getInitialURL"],[74,82,58,22],[74,84,57,44],[76,0,57,44],[77,0,58,10,"url"],[77,14,58,10,"url"],[77,17,57,44],[78,0,59,10,"path"],[78,14,59,10,"path"],[78,18,57,44],[78,21,59,17,"url"],[78,24,59,20],[78,27,59,23,"extractPathFromURL"],[78,45,59,41],[78,46,59,42,"url"],[78,49,59,41],[78,50,59,20],[78,53,59,49],[78,57,57,44],[80,0,57,44],[80,19,61,8,"path"],[80,23,57,44],[81,0,57,44],[82,0,57,44],[83,0,57,44],[85,0,57,44],[85,47,62,13,"getStateFromPathRef"],[85,66,62,32],[85,67,62,33,"current"],[85,74,62,13],[85,75,62,41,"path"],[85,79,62,13],[85,81,62,47,"configRef"],[85,90,62,56],[85,91,62,57,"current"],[85,98,62,13],[85,99,57,44],[87,0,57,44],[88,0,57,44],[88,47,64,13,"undefined"],[88,56,57,44],[90,0,57,44],[91,0,57,44],[92,0,57,44],[93,0,57,44],[94,0,57,44],[95,0,57,44],[96,0,57,44],[96,5,57,26],[96,7,66,5],[96,8,66,6,"extractPathFromURL"],[96,26,66,5],[96,27,57,26],[96,28,57,2],[97,0,68,2,"React"],[97,4,68,2,"React"],[97,9,68,7],[97,10,68,8,"useEffect"],[97,19,68,2],[97,20,68,18],[97,32,68,24],[98,0,69,4],[98,10,69,10,"listener"],[98,18,69,18],[98,21,69,21],[98,30,69,10,"listener"],[98,38,69,21],[98,46,69,51],[99,0,69,51],[99,12,69,24,"url"],[99,15,69,51],[99,24,69,24,"url"],[99,27,69,51],[100,0,70,6],[100,12,70,12,"path"],[100,16,70,16],[100,19,70,19,"extractPathFromURL"],[100,37,70,37],[100,38,70,38,"url"],[100,41,70,37],[100,42,70,6],[101,0,71,6],[101,12,71,12,"navigation"],[101,22,71,22],[101,25,71,25,"ref"],[101,28,71,28],[101,29,71,29,"current"],[101,36,71,6],[103,0,73,6],[103,12,73,10,"navigation"],[103,22,73,20],[103,26,73,24,"path"],[103,30,73,6],[103,32,73,30],[104,0,74,8],[104,14,74,14,"state"],[104,19,74,19],[104,22,74,22,"getStateFromPathRef"],[104,41,74,41],[104,42,74,42,"current"],[104,49,74,22],[104,50,74,50,"path"],[104,54,74,22],[104,56,74,56,"configRef"],[104,65,74,65],[104,66,74,66,"current"],[104,73,74,22],[104,74,74,8],[106,0,76,8],[106,14,76,12,"state"],[106,19,76,8],[106,21,76,19],[107,0,77,10],[107,16,77,16,"action"],[107,22,77,22],[107,25,77,25],[107,55,77,44,"state"],[107,60,77,25],[107,61,77,10],[109,0,79,10],[109,16,79,14,"action"],[109,22,79,20],[109,27,79,25,"undefined"],[109,36,79,10],[109,38,79,36],[110,0,80,12,"navigation"],[110,14,80,12,"navigation"],[110,24,80,22],[110,25,80,23,"dispatch"],[110,33,80,12],[110,34,80,32,"action"],[110,40,80,12],[111,0,81,11],[111,13,79,10],[111,19,81,17],[112,0,82,12,"navigation"],[112,14,82,12,"navigation"],[112,24,82,22],[112,25,82,23,"resetRoot"],[112,34,82,12],[112,35,82,33,"state"],[112,40,82,12],[113,0,83,11],[114,0,84,9],[115,0,85,7],[116,0,86,5],[116,7,69,4],[118,0,88,4,"Linking"],[118,27,88,12,"addEventListener"],[118,43,88,4],[118,44,88,29],[118,49,88,4],[118,51,88,36,"listener"],[118,59,88,4],[120,0,90,4],[120,13,90,11],[121,0,90,11],[121,15,90,17,"Linking"],[121,36,90,25,"removeEventListener"],[121,55,90,17],[121,56,90,45],[121,61,90,17],[121,63,90,52,"listener"],[121,71,90,17],[121,72,90,11],[122,0,90,11],[122,7,90,4],[123,0,91,3],[123,5,68,2],[123,7,91,5],[123,8,91,6,"extractPathFromURL"],[123,26,91,5],[123,28,91,26,"ref"],[123,31,91,5],[123,32,68,2],[124,0,93,2],[124,11,93,9],[125,0,94,4,"getInitialState"],[125,6,94,4,"getInitialState"],[125,21,94,19],[125,23,94,4,"getInitialState"],[126,0,93,9],[126,5,93,2],[127,0,96,1]],"functionMap":{"names":["<global>","useLinking","React.useEffect$argument_0","<anonymous>","React.useCallback$argument_0","listener"],"mappings":"AAA;eCW;kBCQ;WCS;KDE;GDC;kBCS;GDI;+CGE;GHQ;4CGE;GHS;kBCE;qBGC;KHiB;WCI,kDD;GDC;CDK"}},"type":"js/module"}]}