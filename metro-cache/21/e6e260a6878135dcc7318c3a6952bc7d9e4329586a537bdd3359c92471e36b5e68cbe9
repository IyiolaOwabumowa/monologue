{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"react","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}},{"name":"@react-navigation/core","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireWildcard = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireWildcard\");\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useLinking;\n\n  var _regenerator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/regenerator\"));\n\n  var React = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[3], \"react\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[4], \"react-native\");\n\n  var _core = _$$_REQUIRE(_dependencyMap[5], \"@react-navigation/core\");\n\n  var isUsingLinking = false;\n\n  function useLinking(ref, _ref) {\n    var prefixes = _ref.prefixes,\n        config = _ref.config,\n        _ref$getStateFromPath = _ref.getStateFromPath,\n        getStateFromPath = _ref$getStateFromPath === void 0 ? _core.getStateFromPath : _ref$getStateFromPath;\n    React.useEffect(function () {\n      if (isUsingLinking) {\n        throw new Error(\"Looks like you are using 'useLinking' in multiple components. This is likely an error since deep links should only be handled in one place to avoid conflicts.\" + (_reactNative.Platform.OS === 'android' ? \"\\n\\nIf you're not using it in multiple components, ensure that you have set 'android:launchMode=singleTask' in the '<activity />' section of the 'AndroidManifest.xml' file to avoid launching multiple activities which run multiple instances of the root component.\" : ''));\n      } else {\n        isUsingLinking = true;\n      }\n\n      return function () {\n        isUsingLinking = false;\n      };\n    });\n    var prefixesRef = React.useRef(prefixes);\n    var configRef = React.useRef(config);\n    var getStateFromPathRef = React.useRef(getStateFromPath);\n    React.useEffect(function () {\n      prefixesRef.current = prefixes;\n      configRef.current = config;\n      getStateFromPathRef.current = getStateFromPath;\n    }, [config, getStateFromPath, prefixes]);\n    var extractPathFromURL = React.useCallback(function (url) {\n      for (var _iterator = prefixesRef.current, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[typeof Symbol === \"function\" ? Symbol.iterator : \"@@iterator\"]();;) {\n        var _ref2;\n\n        if (_isArray) {\n          if (_i >= _iterator.length) break;\n          _ref2 = _iterator[_i++];\n        } else {\n          _i = _iterator.next();\n          if (_i.done) break;\n          _ref2 = _i.value;\n        }\n\n        var _prefix = _ref2;\n\n        if (url.startsWith(_prefix)) {\n          return url.replace(_prefix, '');\n        }\n      }\n\n      return undefined;\n    }, []);\n    var getInitialState = React.useCallback(function _callee() {\n      var url, path;\n      return _regenerator.default.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regenerator.default.awrap(_reactNative.Linking.getInitialURL());\n\n            case 2:\n              url = _context.sent;\n              path = url ? extractPathFromURL(url) : null;\n\n              if (!path) {\n                _context.next = 8;\n                break;\n              }\n\n              return _context.abrupt(\"return\", getStateFromPathRef.current(path, configRef.current));\n\n            case 8:\n              return _context.abrupt(\"return\", undefined);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }, [extractPathFromURL]);\n    React.useEffect(function () {\n      var listener = function listener(_ref3) {\n        var url = _ref3.url;\n        var path = extractPathFromURL(url);\n        var navigation = ref.current;\n\n        if (navigation && path) {\n          var state = getStateFromPathRef.current(path, configRef.current);\n\n          if (state) {\n            var action = (0, _core.getActionFromState)(state);\n\n            if (action !== undefined) {\n              navigation.dispatch(action);\n            } else {\n              navigation.resetRoot(state);\n            }\n          }\n        }\n      };\n\n      _reactNative.Linking.addEventListener('url', listener);\n\n      return function () {\n        return _reactNative.Linking.removeEventListener('url', listener);\n      };\n    }, [extractPathFromURL, ref]);\n    return {\n      getInitialState: getInitialState\n    };\n  }\n});","lineCount":128,"map":[[13,0,1,0],[15,0,2,0],[17,0,3,0],[19,0,10,0],[19,6,10,4,"isUsingLinking"],[19,20,10,18],[19,23,10,21],[19,28,10,0],[21,0,12,15],[21,11,12,24,"useLinking"],[21,21,12,15],[21,22,13,2,"ref"],[21,25,12,15],[21,33,19,2],[22,0,19,2],[22,8,15,4,"prefixes"],[22,16,19,2],[22,24,15,4,"prefixes"],[22,32,19,2],[23,0,19,2],[23,8,16,4,"config"],[23,14,19,2],[23,22,16,4,"config"],[23,28,19,2],[24,0,19,2],[24,37,17,4,"getStateFromPath"],[24,53,19,2],[25,0,19,2],[25,8,17,4,"getStateFromPath"],[25,24,19,2],[25,62,17,23,"getStateFromPathDefault"],[25,84,19,2],[26,0,20,2,"React"],[26,4,20,2,"React"],[26,9,20,7],[26,10,20,8,"useEffect"],[26,19,20,2],[26,20,20,18],[26,32,20,24],[27,0,21,4],[27,10,21,8,"isUsingLinking"],[27,24,21,4],[27,26,21,24],[28,0,22,6],[28,14,22,12],[28,18,22,16,"Error"],[28,23,22,12],[28,24,23,8],[28,188,24,11,"Platform"],[28,210,24,20,"OS"],[28,212,24,11],[28,217,24,27],[28,226,24,11],[28,229,25,14],[28,493,24,11],[28,496,26,14],[28,498,23,8],[28,499,22,12],[28,500,22,6],[29,0,28,5],[29,7,21,4],[29,13,28,11],[30,0,29,6,"isUsingLinking"],[30,8,29,6,"isUsingLinking"],[30,22,29,20],[30,25,29,23],[30,29,29,6],[31,0,30,5],[33,0,32,4],[33,13,32,11],[33,25,32,17],[34,0,33,6,"isUsingLinking"],[34,8,33,6,"isUsingLinking"],[34,22,33,20],[34,25,33,23],[34,30,33,6],[35,0,34,5],[35,7,32,4],[36,0,35,3],[36,5,20,2],[37,0,40,2],[37,8,40,8,"prefixesRef"],[37,19,40,19],[37,22,40,22,"React"],[37,27,40,27],[37,28,40,28,"useRef"],[37,34,40,22],[37,35,40,35,"prefixes"],[37,43,40,22],[37,44,40,2],[38,0,41,2],[38,8,41,8,"configRef"],[38,17,41,17],[38,20,41,20,"React"],[38,25,41,25],[38,26,41,26,"useRef"],[38,32,41,20],[38,33,41,33,"config"],[38,39,41,20],[38,40,41,2],[39,0,42,2],[39,8,42,8,"getStateFromPathRef"],[39,27,42,27],[39,30,42,30,"React"],[39,35,42,35],[39,36,42,36,"useRef"],[39,42,42,30],[39,43,42,43,"getStateFromPath"],[39,59,42,30],[39,60,42,2],[40,0,44,2,"React"],[40,4,44,2,"React"],[40,9,44,7],[40,10,44,8,"useEffect"],[40,19,44,2],[40,20,44,18],[40,32,44,24],[41,0,45,4,"prefixesRef"],[41,6,45,4,"prefixesRef"],[41,17,45,15],[41,18,45,16,"current"],[41,25,45,4],[41,28,45,26,"prefixes"],[41,36,45,4],[42,0,46,4,"configRef"],[42,6,46,4,"configRef"],[42,15,46,13],[42,16,46,14,"current"],[42,23,46,4],[42,26,46,24,"config"],[42,32,46,4],[43,0,47,4,"getStateFromPathRef"],[43,6,47,4,"getStateFromPathRef"],[43,25,47,23],[43,26,47,24,"current"],[43,33,47,4],[43,36,47,34,"getStateFromPath"],[43,52,47,4],[44,0,48,3],[44,5,44,2],[44,7,48,5],[44,8,48,6,"config"],[44,14,48,5],[44,16,48,14,"getStateFromPath"],[44,32,48,5],[44,34,48,32,"prefixes"],[44,42,48,5],[44,43,44,2],[45,0,50,2],[45,8,50,8,"extractPathFromURL"],[45,26,50,26],[45,29,50,29,"React"],[45,34,50,34],[45,35,50,35,"useCallback"],[45,46,50,29],[45,47,50,47],[45,57,50,48,"url"],[45,60,50,47],[45,62,50,64],[46,0,51,4],[46,27,51,25,"prefixesRef"],[46,38,51,36],[46,39,51,37,"current"],[46,46,51,4],[46,206,51,46],[47,0,51,46],[49,0,51,46],[50,0,51,46],[51,0,51,46],[52,0,51,46],[53,0,51,46],[54,0,51,46],[55,0,51,46],[56,0,51,46],[58,0,51,46],[58,12,51,15,"prefix"],[58,19,51,46],[60,0,52,6],[60,12,52,10,"url"],[60,15,52,13],[60,16,52,14,"startsWith"],[60,26,52,10],[60,27,52,25,"prefix"],[60,34,52,10],[60,35,52,6],[60,37,52,34],[61,0,53,8],[61,17,53,15,"url"],[61,20,53,18],[61,21,53,19,"replace"],[61,28,53,15],[61,29,53,27,"prefix"],[61,36,53,15],[61,38,53,35],[61,40,53,15],[61,41,53,8],[62,0,54,7],[63,0,55,5],[65,0,57,4],[65,13,57,11,"undefined"],[65,22,57,4],[66,0,58,3],[66,5,50,29],[66,7,58,5],[66,9,50,29],[66,10,50,2],[67,0,60,2],[67,8,60,8,"getInitialState"],[67,23,60,23],[67,26,60,26,"React"],[67,31,60,31],[67,32,60,32,"useCallback"],[67,43,60,26],[67,44,60,44],[68,0,60,44],[69,0,60,44],[70,0,60,44],[71,0,60,44],[72,0,60,44],[73,0,60,44],[74,0,60,44],[74,48,61,22,"Linking"],[74,69,61,30,"getInitialURL"],[74,82,61,22],[74,84,60,44],[76,0,60,44],[77,0,61,10,"url"],[77,14,61,10,"url"],[77,17,60,44],[78,0,62,10,"path"],[78,14,62,10,"path"],[78,18,60,44],[78,21,62,17,"url"],[78,24,62,20],[78,27,62,23,"extractPathFromURL"],[78,45,62,41],[78,46,62,42,"url"],[78,49,62,41],[78,50,62,20],[78,53,62,49],[78,57,60,44],[80,0,60,44],[80,19,64,8,"path"],[80,23,60,44],[81,0,60,44],[82,0,60,44],[83,0,60,44],[85,0,60,44],[85,47,65,13,"getStateFromPathRef"],[85,66,65,32],[85,67,65,33,"current"],[85,74,65,13],[85,75,65,41,"path"],[85,79,65,13],[85,81,65,47,"configRef"],[85,90,65,56],[85,91,65,57,"current"],[85,98,65,13],[85,99,60,44],[87,0,60,44],[88,0,60,44],[88,47,67,13,"undefined"],[88,56,60,44],[90,0,60,44],[91,0,60,44],[92,0,60,44],[93,0,60,44],[94,0,60,44],[95,0,60,44],[96,0,60,44],[96,5,60,26],[96,7,69,5],[96,8,69,6,"extractPathFromURL"],[96,26,69,5],[96,27,60,26],[96,28,60,2],[97,0,71,2,"React"],[97,4,71,2,"React"],[97,9,71,7],[97,10,71,8,"useEffect"],[97,19,71,2],[97,20,71,18],[97,32,71,24],[98,0,72,4],[98,10,72,10,"listener"],[98,18,72,18],[98,21,72,21],[98,30,72,10,"listener"],[98,38,72,21],[98,46,72,51],[99,0,72,51],[99,12,72,24,"url"],[99,15,72,51],[99,24,72,24,"url"],[99,27,72,51],[100,0,73,6],[100,12,73,12,"path"],[100,16,73,16],[100,19,73,19,"extractPathFromURL"],[100,37,73,37],[100,38,73,38,"url"],[100,41,73,37],[100,42,73,6],[101,0,74,6],[101,12,74,12,"navigation"],[101,22,74,22],[101,25,74,25,"ref"],[101,28,74,28],[101,29,74,29,"current"],[101,36,74,6],[103,0,76,6],[103,12,76,10,"navigation"],[103,22,76,20],[103,26,76,24,"path"],[103,30,76,6],[103,32,76,30],[104,0,77,8],[104,14,77,14,"state"],[104,19,77,19],[104,22,77,22,"getStateFromPathRef"],[104,41,77,41],[104,42,77,42,"current"],[104,49,77,22],[104,50,77,50,"path"],[104,54,77,22],[104,56,77,56,"configRef"],[104,65,77,65],[104,66,77,66,"current"],[104,73,77,22],[104,74,77,8],[106,0,79,8],[106,14,79,12,"state"],[106,19,79,8],[106,21,79,19],[107,0,80,10],[107,16,80,16,"action"],[107,22,80,22],[107,25,80,25],[107,55,80,44,"state"],[107,60,80,25],[107,61,80,10],[109,0,82,10],[109,16,82,14,"action"],[109,22,82,20],[109,27,82,25,"undefined"],[109,36,82,10],[109,38,82,36],[110,0,83,12,"navigation"],[110,14,83,12,"navigation"],[110,24,83,22],[110,25,83,23,"dispatch"],[110,33,83,12],[110,34,83,32,"action"],[110,40,83,12],[111,0,84,11],[111,13,82,10],[111,19,84,17],[112,0,85,12,"navigation"],[112,14,85,12,"navigation"],[112,24,85,22],[112,25,85,23,"resetRoot"],[112,34,85,12],[112,35,85,33,"state"],[112,40,85,12],[113,0,86,11],[114,0,87,9],[115,0,88,7],[116,0,89,5],[116,7,72,4],[118,0,91,4,"Linking"],[118,27,91,12,"addEventListener"],[118,43,91,4],[118,44,91,29],[118,49,91,4],[118,51,91,36,"listener"],[118,59,91,4],[120,0,93,4],[120,13,93,11],[121,0,93,11],[121,15,93,17,"Linking"],[121,36,93,25,"removeEventListener"],[121,55,93,17],[121,56,93,45],[121,61,93,17],[121,63,93,52,"listener"],[121,71,93,17],[121,72,93,11],[122,0,93,11],[122,7,93,4],[123,0,94,3],[123,5,71,2],[123,7,94,5],[123,8,94,6,"extractPathFromURL"],[123,26,94,5],[123,28,94,26,"ref"],[123,31,94,5],[123,32,71,2],[124,0,96,2],[124,11,96,9],[125,0,97,4,"getInitialState"],[125,6,97,4,"getInitialState"],[125,21,97,19],[125,23,97,4,"getInitialState"],[126,0,96,9],[126,5,96,2],[127,0,99,1]],"functionMap":{"names":["<global>","useLinking","React.useEffect$argument_0","<anonymous>","React.useCallback$argument_0","listener"],"mappings":"AAA;eCW;kBCQ;WCY;KDE;GDC;kBCS;GDI;+CGE;GHQ;4CGE;GHS;kBCE;qBGC;KHiB;WCI,kDD;GDC;CDK"}},"type":"js/module"}]}