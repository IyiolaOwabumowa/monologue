{"dependencies":[{"name":"../constants/authConstants","data":{"isAsync":false}},{"name":"../services/auth.services","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.authActions = void 0;\n\n  var _authConstants = _$$_REQUIRE(_dependencyMap[0], \"../constants/authConstants\");\n\n  var _auth = _$$_REQUIRE(_dependencyMap[1], \"../services/auth.services\");\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[2], \"react-native\");\n\n  var authActions = {\n    login: login,\n    getUserToken: getUserToken,\n    saveUserToken: saveUserToken,\n    deleteUserToken: deleteUserToken,\n    clearLoginErrors: clearLoginErrors\n  };\n  exports.authActions = authActions;\n\n  function login(username, password) {\n    return function (dispatch) {\n      dispatch(request(username));\n\n      _auth.authService.login(username, password).then(function (token) {\n        saveUserToken(token);\n        dispatch(success());\n      }).catch(function (error) {\n        var errorMessage = error.response.data.error;\n        dispatch(failure(errorMessage));\n      });\n    };\n\n    function request(user) {\n      return {\n        type: _authConstants.authConstants.LOGIN_REQUEST\n      };\n    }\n\n    function success(user) {\n      return {\n        type: _authConstants.authConstants.LOGIN_SUCCESS\n      };\n    }\n\n    function failure(error) {\n      return {\n        type: _authConstants.authConstants.LOGIN_FAILURE,\n        error: error\n      };\n    }\n\n    function saveToken(token) {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function getUserToken() {\n    return function (dispatch) {\n      _auth.authService.getItem(\"token\").then(function (value) {\n        dispatch(getToken(value));\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    function getToken(token) {\n      return {\n        type: _authConstants.authConstants.GET_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function saveUserToken(token) {\n    return function (dispatch) {\n      _auth.authService.saveItem(\"token\", token).then(function (value) {\n        dispatch(saveToken(value));\n      });\n    };\n\n    function saveToken(token) {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function deleteUserToken() {\n    return function (dispatch) {\n      _auth.authService.deleteItem(\"token\").then(function (value) {\n        dispatch(deleteToken());\n      });\n    };\n\n    function deleteToken() {\n      return {\n        type: _authConstants.authConstants.DELETE_TOKEN\n      };\n    }\n  }\n\n  function clearLoginErrors() {\n    return {\n      type: _authConstants.authConstants.CLEAR_LOGIN_ERRORS\n    };\n  }\n});","lineCount":113,"map":[[7,0,1,0],[9,0,2,0],[11,0,3,0],[13,0,5,7],[13,6,5,13,"authActions"],[13,17,5,24],[13,20,5,27],[14,0,6,2,"login"],[14,4,6,2,"login"],[14,9,6,7],[14,11,6,2,"login"],[14,16,5,27],[15,0,7,2,"getUserToken"],[15,4,7,2,"getUserToken"],[15,16,7,14],[15,18,7,2,"getUserToken"],[15,30,5,27],[16,0,8,2,"saveUserToken"],[16,4,8,2,"saveUserToken"],[16,17,8,15],[16,19,8,2,"saveUserToken"],[16,32,5,27],[17,0,9,2,"deleteUserToken"],[17,4,9,2,"deleteUserToken"],[17,19,9,17],[17,21,9,2,"deleteUserToken"],[17,36,5,27],[18,0,10,2,"clearLoginErrors"],[18,4,10,2,"clearLoginErrors"],[18,20,10,18],[18,22,10,2,"clearLoginErrors"],[19,0,5,27],[19,3,5,7],[22,0,13,0],[22,11,13,9,"login"],[22,16,13,0],[22,17,13,15,"username"],[22,25,13,0],[22,27,13,25,"password"],[22,35,13,0],[22,37,13,35],[23,0,14,2],[23,11,14,9],[23,21,14,9,"dispatch"],[23,29,14,17],[23,31,14,21],[24,0,15,4,"dispatch"],[24,6,15,4,"dispatch"],[24,14,15,12],[24,15,15,13,"request"],[24,22,15,20],[24,23,15,21,"username"],[24,31,15,20],[24,32,15,12],[24,33,15,4],[26,0,17,4,"authService"],[26,24,18,7,"login"],[26,29,17,4],[26,30,18,13,"username"],[26,38,17,4],[26,40,18,23,"password"],[26,48,17,4],[26,50,19,7,"then"],[26,54,17,4],[26,55,19,12],[26,65,19,12,"token"],[26,70,19,17],[26,72,19,21],[27,0,20,8,"saveUserToken"],[27,8,20,8,"saveUserToken"],[27,21,20,21],[27,22,20,22,"token"],[27,27,20,21],[27,28,20,8],[28,0,21,8,"dispatch"],[28,8,21,8,"dispatch"],[28,16,21,16],[28,17,21,17,"success"],[28,24,21,24],[28,26,21,16],[28,27,21,8],[29,0,22,7],[29,7,17,4],[29,9,23,7,"catch"],[29,14,17,4],[29,15,23,13],[29,25,23,13,"error"],[29,30,23,18],[29,32,23,22],[30,0,24,8],[30,12,24,14,"errorMessage"],[30,24,24,26],[30,27,24,29,"error"],[30,32,24,34],[30,33,24,35,"response"],[30,41,24,29],[30,42,24,44,"data"],[30,46,24,29],[30,47,24,49,"error"],[30,52,24,8],[31,0,25,8,"dispatch"],[31,8,25,8,"dispatch"],[31,16,25,16],[31,17,25,17,"failure"],[31,24,25,24],[31,25,25,25,"errorMessage"],[31,37,25,24],[31,38,25,16],[31,39,25,8],[32,0,26,7],[32,7,17,4],[33,0,27,3],[33,5,14,2],[35,0,29,2],[35,13,29,11,"request"],[35,20,29,2],[35,21,29,19,"user"],[35,25,29,2],[35,27,29,25],[36,0,30,4],[36,13,30,11],[37,0,30,13,"type"],[37,8,30,13,"type"],[37,12,30,17],[37,14,30,19,"authConstants"],[37,43,30,33,"LOGIN_REQUEST"],[38,0,30,11],[38,7,30,4],[39,0,31,3],[41,0,32,2],[41,13,32,11,"success"],[41,20,32,2],[41,21,32,19,"user"],[41,25,32,2],[41,27,32,25],[42,0,33,4],[42,13,33,11],[43,0,33,13,"type"],[43,8,33,13,"type"],[43,12,33,17],[43,14,33,19,"authConstants"],[43,43,33,33,"LOGIN_SUCCESS"],[44,0,33,11],[44,7,33,4],[45,0,34,3],[47,0,35,2],[47,13,35,11,"failure"],[47,20,35,2],[47,21,35,19,"error"],[47,26,35,2],[47,28,35,26],[48,0,36,4],[48,13,36,11],[49,0,36,13,"type"],[49,8,36,13,"type"],[49,12,36,17],[49,14,36,19,"authConstants"],[49,43,36,33,"LOGIN_FAILURE"],[49,56,36,11],[50,0,36,48,"error"],[50,8,36,48,"error"],[50,13,36,53],[50,15,36,48,"error"],[51,0,36,11],[51,7,36,4],[52,0,37,3],[54,0,38,2],[54,13,38,11,"saveToken"],[54,22,38,2],[54,23,38,21,"token"],[54,28,38,2],[54,30,38,28],[55,0,39,4],[55,13,39,11],[56,0,39,13,"type"],[56,8,39,13,"type"],[56,12,39,17],[56,14,39,19,"authConstants"],[56,43,39,33,"SAVE_TOKEN"],[56,53,39,11],[57,0,39,45,"token"],[57,8,39,45,"token"],[57,13,39,50],[57,15,39,45,"token"],[58,0,39,11],[58,7,39,4],[59,0,40,3],[60,0,41,1],[62,0,43,0],[62,11,43,9,"getUserToken"],[62,23,43,0],[62,26,43,24],[63,0,44,2],[63,11,44,9],[63,21,44,9,"dispatch"],[63,29,44,17],[63,31,44,21],[64,0,45,4,"authService"],[64,24,45,16,"getItem"],[64,31,45,4],[64,32,45,24],[64,39,45,4],[64,41,45,33,"then"],[64,45,45,4],[64,46,45,38],[64,56,45,38,"value"],[64,61,45,43],[64,63,45,47],[65,0,46,6,"dispatch"],[65,8,46,6,"dispatch"],[65,16,46,14],[65,17,46,15,"getToken"],[65,25,46,23],[65,26,46,24,"value"],[65,31,46,23],[65,32,46,14],[65,33,46,6],[66,0,47,5],[66,7,45,4],[66,9,47,7,"catch"],[66,14,45,4],[66,15,47,13],[66,25,47,13,"err"],[66,28,47,16],[66,30,47,18],[67,0,48,6,"console"],[67,8,48,6,"console"],[67,15,48,13],[67,16,48,14,"log"],[67,19,48,6],[67,20,48,18,"err"],[67,23,48,6],[68,0,49,5],[68,7,45,4],[69,0,50,3],[69,5,44,2],[71,0,52,2],[71,13,52,11,"getToken"],[71,21,52,2],[71,22,52,20,"token"],[71,27,52,2],[71,29,52,27],[72,0,53,4],[72,13,53,11],[73,0,53,13,"type"],[73,8,53,13,"type"],[73,12,53,17],[73,14,53,19,"authConstants"],[73,43,53,33,"GET_TOKEN"],[73,52,53,11],[74,0,53,44,"token"],[74,8,53,44,"token"],[74,13,53,49],[74,15,53,44,"token"],[75,0,53,11],[75,7,53,4],[76,0,54,3],[77,0,55,1],[79,0,57,0],[79,11,57,9,"saveUserToken"],[79,24,57,0],[79,25,57,23,"token"],[79,30,57,0],[79,32,57,30],[80,0,58,2],[80,11,58,9],[80,21,58,9,"dispatch"],[80,29,58,17],[80,31,58,21],[81,0,59,4,"authService"],[81,24,59,16,"saveItem"],[81,32,59,4],[81,33,59,25],[81,40,59,4],[81,42,59,34,"token"],[81,47,59,4],[81,49,59,41,"then"],[81,53,59,4],[81,54,59,46],[81,64,59,46,"value"],[81,69,59,51],[81,71,59,55],[82,0,60,6,"dispatch"],[82,8,60,6,"dispatch"],[82,16,60,14],[82,17,60,15,"saveToken"],[82,26,60,24],[82,27,60,25,"value"],[82,32,60,24],[82,33,60,14],[82,34,60,6],[83,0,61,5],[83,7,59,4],[84,0,62,3],[84,5,58,2],[86,0,64,2],[86,13,64,11,"saveToken"],[86,22,64,2],[86,23,64,21,"token"],[86,28,64,2],[86,30,64,28],[87,0,65,4],[87,13,65,11],[88,0,65,13,"type"],[88,8,65,13,"type"],[88,12,65,17],[88,14,65,19,"authConstants"],[88,43,65,33,"SAVE_TOKEN"],[88,53,65,11],[89,0,65,45,"token"],[89,8,65,45,"token"],[89,13,65,50],[89,15,65,45,"token"],[90,0,65,11],[90,7,65,4],[91,0,66,3],[92,0,67,1],[94,0,70,0],[94,11,70,9,"deleteUserToken"],[94,26,70,0],[94,29,70,27],[95,0,71,2],[95,11,71,9],[95,21,71,9,"dispatch"],[95,29,71,17],[95,31,71,21],[96,0,72,4,"authService"],[96,24,72,16,"deleteItem"],[96,34,72,4],[96,35,72,27],[96,42,72,4],[96,44,72,36,"then"],[96,48,72,4],[96,49,72,41],[96,59,72,41,"value"],[96,64,72,46],[96,66,72,50],[97,0,73,6,"dispatch"],[97,8,73,6,"dispatch"],[97,16,73,14],[97,17,73,15,"deleteToken"],[97,28,73,26],[97,30,73,14],[97,31,73,6],[98,0,74,5],[98,7,72,4],[99,0,75,3],[99,5,71,2],[101,0,77,2],[101,13,77,11,"deleteToken"],[101,24,77,2],[101,27,77,25],[102,0,78,4],[102,13,78,11],[103,0,78,13,"type"],[103,8,78,13,"type"],[103,12,78,17],[103,14,78,19,"authConstants"],[103,43,78,33,"DELETE_TOKEN"],[104,0,78,11],[104,7,78,4],[105,0,79,3],[106,0,80,1],[108,0,83,0],[108,11,83,9,"clearLoginErrors"],[108,27,83,0],[108,30,83,28],[109,0,84,2],[109,11,84,9],[110,0,85,4,"type"],[110,6,85,4,"type"],[110,10,85,8],[110,12,85,10,"authConstants"],[110,41,85,24,"CLEAR_LOGIN_ERRORS"],[111,0,84,9],[111,5,84,2],[112,0,87,1]],"functionMap":{"names":["<global>","login","<anonymous>","authService.login.then$argument_0","authService.login.then._catch$argument_0","request","success","failure","saveToken","getUserToken","authService.getItem.then$argument_0","authService.getItem.then._catch$argument_0","getToken","saveUserToken","authService.saveItem.then$argument_0","deleteUserToken","authService.deleteItem.then$argument_0","deleteToken","clearLoginErrors"],"mappings":"AAA;ACY;SCC;YCK;ODG;aEC;OFG;GDC;EIE;GJE;EKC;GLE;EMC;GNE;EOC;GPE;CDC;ASE;SPC;sCQC;KRE,QS;KTE;GOC;EGE;GHE;CTC;AaE;SXC;8CYC;KZE;GWC;ELE;GKE;CbC;AeG;SbC;yCcC;KdE;GaC;EEE;GFE;CfC;AkBG;ClBI"}},"type":"js/module"}]}