{"dependencies":[{"name":"../constants/authConstants","data":{"isAsync":false}},{"name":"../services/auth.services","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.authActions = void 0;\n\n  var _authConstants = _$$_REQUIRE(_dependencyMap[0], \"../constants/authConstants\");\n\n  var _auth = _$$_REQUIRE(_dependencyMap[1], \"../services/auth.services\");\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[2], \"react-native\");\n\n  var authActions = {\n    login: login,\n    clearLoginErrors: clearLoginErrors\n  };\n  exports.authActions = authActions;\n\n  function login(username, password) {\n    return function (dispatch) {\n      dispatch(request(username));\n\n      _auth.authService.login(username, password).then(function (user) {\n        console.log(\"login successful\");\n        dispatch(success(user));\n      }).catch(function (error) {\n        console.log(error.response.data.error);\n        var errorMessage = error.response.data.error;\n        dispatch(failure(errorMessage));\n      });\n    };\n\n    function request(user) {\n      return {\n        type: _authConstants.authConstants.LOGIN_REQUEST,\n        user: user\n      };\n    }\n\n    function success(user) {\n      return {\n        type: _authConstants.authConstants.LOGIN_SUCCESS,\n        user: user\n      };\n    }\n\n    function failure(error) {\n      return {\n        type: _authConstants.authConstants.LOGIN_FAILURE,\n        error: error\n      };\n    }\n  }\n\n  function getUserToken() {\n    return function (dispatch) {\n      _auth.authService.getItem(\"token\").then(function (value) {\n        dispatch(getToken(value));\n      });\n    };\n\n    function getToken(token) {\n      return {\n        type: _authConstants.authConstants.GET_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function saveUserToken(token) {\n    return function (dispatch) {\n      _auth.authService.saveItem(\"token\", token).then(function (value) {\n        dispatch(saveToken(value));\n      });\n    };\n\n    function saveToken(token) {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function deleteUserToken(token) {\n    return function (dispatch) {\n      _auth.authService.deleteItem(\"token\", token).then(function (value) {\n        dispatch(saveToken(value));\n      });\n    };\n\n    function saveToken(token) {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function clearLoginErrors() {\n    return {\n      type: _authConstants.authConstants.CLEAR_LOGIN_ERRORS\n    };\n  }\n});","lineCount":105,"map":[[7,0,1,0],[9,0,2,0],[11,0,3,0],[13,0,5,7],[13,6,5,13,"authActions"],[13,17,5,24],[13,20,5,27],[14,0,6,2,"login"],[14,4,6,2,"login"],[14,9,6,7],[14,11,6,2,"login"],[14,16,5,27],[15,0,8,2,"clearLoginErrors"],[15,4,8,2,"clearLoginErrors"],[15,20,8,18],[15,22,8,2,"clearLoginErrors"],[16,0,5,27],[16,3,5,7],[19,0,11,0],[19,11,11,9,"login"],[19,16,11,0],[19,17,11,15,"username"],[19,25,11,0],[19,27,11,25,"password"],[19,35,11,0],[19,37,11,35],[20,0,12,2],[20,11,12,9],[20,21,12,9,"dispatch"],[20,29,12,17],[20,31,12,21],[21,0,13,4,"dispatch"],[21,6,13,4,"dispatch"],[21,14,13,12],[21,15,13,13,"request"],[21,22,13,20],[21,23,13,21,"username"],[21,31,13,20],[21,32,13,12],[21,33,13,4],[23,0,15,4,"authService"],[23,24,16,7,"login"],[23,29,15,4],[23,30,16,13,"username"],[23,38,15,4],[23,40,16,23,"password"],[23,48,15,4],[23,50,17,7,"then"],[23,54,15,4],[23,55,17,12],[23,65,17,12,"user"],[23,69,17,16],[23,71,17,20],[24,0,18,8,"console"],[24,8,18,8,"console"],[24,15,18,15],[24,16,18,16,"log"],[24,19,18,8],[24,20,18,20],[24,38,18,8],[25,0,19,8,"dispatch"],[25,8,19,8,"dispatch"],[25,16,19,16],[25,17,19,17,"success"],[25,24,19,24],[25,25,19,25,"user"],[25,29,19,24],[25,30,19,16],[25,31,19,8],[26,0,20,7],[26,7,15,4],[26,9,21,7,"catch"],[26,14,15,4],[26,15,21,13],[26,25,21,13,"error"],[26,30,21,18],[26,32,21,22],[27,0,22,8,"console"],[27,8,22,8,"console"],[27,15,22,15],[27,16,22,16,"log"],[27,19,22,8],[27,20,22,20,"error"],[27,25,22,25],[27,26,22,26,"response"],[27,34,22,20],[27,35,22,35,"data"],[27,39,22,20],[27,40,22,40,"error"],[27,45,22,8],[28,0,23,8],[28,12,23,14,"errorMessage"],[28,24,23,26],[28,27,23,29,"error"],[28,32,23,34],[28,33,23,35,"response"],[28,41,23,29],[28,42,23,44,"data"],[28,46,23,29],[28,47,23,49,"error"],[28,52,23,8],[29,0,24,8,"dispatch"],[29,8,24,8,"dispatch"],[29,16,24,16],[29,17,24,17,"failure"],[29,24,24,24],[29,25,24,25,"errorMessage"],[29,37,24,24],[29,38,24,16],[29,39,24,8],[30,0,25,7],[30,7,15,4],[31,0,26,3],[31,5,12,2],[33,0,28,2],[33,13,28,11,"request"],[33,20,28,2],[33,21,28,19,"user"],[33,25,28,2],[33,27,28,25],[34,0,29,4],[34,13,29,11],[35,0,29,13,"type"],[35,8,29,13,"type"],[35,12,29,17],[35,14,29,19,"authConstants"],[35,43,29,33,"LOGIN_REQUEST"],[35,56,29,11],[36,0,29,48,"user"],[36,8,29,48,"user"],[36,12,29,52],[36,14,29,48,"user"],[37,0,29,11],[37,7,29,4],[38,0,30,3],[40,0,31,2],[40,13,31,11,"success"],[40,20,31,2],[40,21,31,19,"user"],[40,25,31,2],[40,27,31,25],[41,0,32,4],[41,13,32,11],[42,0,32,13,"type"],[42,8,32,13,"type"],[42,12,32,17],[42,14,32,19,"authConstants"],[42,43,32,33,"LOGIN_SUCCESS"],[42,56,32,11],[43,0,32,48,"user"],[43,8,32,48,"user"],[43,12,32,52],[43,14,32,48,"user"],[44,0,32,11],[44,7,32,4],[45,0,33,3],[47,0,34,2],[47,13,34,11,"failure"],[47,20,34,2],[47,21,34,19,"error"],[47,26,34,2],[47,28,34,26],[48,0,35,4],[48,13,35,11],[49,0,35,13,"type"],[49,8,35,13,"type"],[49,12,35,17],[49,14,35,19,"authConstants"],[49,43,35,33,"LOGIN_FAILURE"],[49,56,35,11],[50,0,35,48,"error"],[50,8,35,48,"error"],[50,13,35,53],[50,15,35,48,"error"],[51,0,35,11],[51,7,35,4],[52,0,36,3],[53,0,37,1],[55,0,39,0],[55,11,39,9,"getUserToken"],[55,23,39,0],[55,26,39,24],[56,0,40,2],[56,11,40,9],[56,21,40,9,"dispatch"],[56,29,40,17],[56,31,40,21],[57,0,41,4,"authService"],[57,24,41,16,"getItem"],[57,31,41,4],[57,32,41,24],[57,39,41,4],[57,41,41,33,"then"],[57,45,41,4],[57,46,41,38],[57,56,41,38,"value"],[57,61,41,43],[57,63,41,47],[58,0,42,6,"dispatch"],[58,8,42,6,"dispatch"],[58,16,42,14],[58,17,42,15,"getToken"],[58,25,42,23],[58,26,42,24,"value"],[58,31,42,23],[58,32,42,14],[58,33,42,6],[59,0,43,5],[59,7,41,4],[60,0,44,3],[60,5,40,2],[62,0,46,2],[62,13,46,11,"getToken"],[62,21,46,2],[62,22,46,20,"token"],[62,27,46,2],[62,29,46,27],[63,0,47,4],[63,13,47,11],[64,0,47,13,"type"],[64,8,47,13,"type"],[64,12,47,17],[64,14,47,19,"authConstants"],[64,43,47,33,"GET_TOKEN"],[64,52,47,11],[65,0,47,44,"token"],[65,8,47,44,"token"],[65,13,47,49],[65,15,47,44,"token"],[66,0,47,11],[66,7,47,4],[67,0,48,3],[68,0,49,1],[70,0,51,0],[70,11,51,9,"saveUserToken"],[70,24,51,0],[70,25,51,23,"token"],[70,30,51,0],[70,32,51,30],[71,0,52,2],[71,11,52,9],[71,21,52,9,"dispatch"],[71,29,52,17],[71,31,52,21],[72,0,53,4,"authService"],[72,24,53,16,"saveItem"],[72,32,53,4],[72,33,53,25],[72,40,53,4],[72,42,53,34,"token"],[72,47,53,4],[72,49,53,41,"then"],[72,53,53,4],[72,54,53,46],[72,64,53,46,"value"],[72,69,53,51],[72,71,53,55],[73,0,54,6,"dispatch"],[73,8,54,6,"dispatch"],[73,16,54,14],[73,17,54,15,"saveToken"],[73,26,54,24],[73,27,54,25,"value"],[73,32,54,24],[73,33,54,14],[73,34,54,6],[74,0,55,5],[74,7,53,4],[75,0,56,3],[75,5,52,2],[77,0,58,2],[77,13,58,11,"saveToken"],[77,22,58,2],[77,23,58,21,"token"],[77,28,58,2],[77,30,58,28],[78,0,59,4],[78,13,59,11],[79,0,59,13,"type"],[79,8,59,13,"type"],[79,12,59,17],[79,14,59,19,"authConstants"],[79,43,59,33,"SAVE_TOKEN"],[79,53,59,11],[80,0,59,45,"token"],[80,8,59,45,"token"],[80,13,59,50],[80,15,59,45,"token"],[81,0,59,11],[81,7,59,4],[82,0,60,3],[83,0,61,1],[85,0,64,0],[85,11,64,9,"deleteUserToken"],[85,26,64,0],[85,27,64,25,"token"],[85,32,64,0],[85,34,64,32],[86,0,65,2],[86,11,65,9],[86,21,65,9,"dispatch"],[86,29,65,17],[86,31,65,21],[87,0,66,4,"authService"],[87,24,66,16,"deleteItem"],[87,34,66,4],[87,35,66,27],[87,42,66,4],[87,44,66,36,"token"],[87,49,66,4],[87,51,66,43,"then"],[87,55,66,4],[87,56,66,48],[87,66,66,48,"value"],[87,71,66,53],[87,73,66,57],[88,0,67,6,"dispatch"],[88,8,67,6,"dispatch"],[88,16,67,14],[88,17,67,15,"saveToken"],[88,26,67,24],[88,27,67,25,"value"],[88,32,67,24],[88,33,67,14],[88,34,67,6],[89,0,68,5],[89,7,66,4],[90,0,69,3],[90,5,65,2],[92,0,71,2],[92,13,71,11,"saveToken"],[92,22,71,2],[92,23,71,21,"token"],[92,28,71,2],[92,30,71,28],[93,0,72,4],[93,13,72,11],[94,0,72,13,"type"],[94,8,72,13,"type"],[94,12,72,17],[94,14,72,19,"authConstants"],[94,43,72,33,"SAVE_TOKEN"],[94,53,72,11],[95,0,72,45,"token"],[95,8,72,45,"token"],[95,13,72,50],[95,15,72,45,"token"],[96,0,72,11],[96,7,72,4],[97,0,73,3],[98,0,74,1],[100,0,77,0],[100,11,77,9,"clearLoginErrors"],[100,27,77,0],[100,30,77,28],[101,0,78,2],[101,11,78,9],[102,0,79,4,"type"],[102,6,79,4,"type"],[102,10,79,8],[102,12,79,10,"authConstants"],[102,41,79,24,"CLEAR_LOGIN_ERRORS"],[103,0,78,9],[103,5,78,2],[104,0,81,1]],"functionMap":{"names":["<global>","login","<anonymous>","authService.login.then$argument_0","authService.login.then._catch$argument_0","request","success","failure","getUserToken","authService.getItem.then$argument_0","getToken","saveUserToken","authService.saveItem.then$argument_0","saveToken","deleteUserToken","authService.deleteItem.then$argument_0","clearLoginErrors"],"mappings":"AAA;ACU;SCC;YCK;ODG;aEC;OFI;GDC;EIE;GJE;EKC;GLE;EMC;GNE;CDC;AQE;SNC;sCOC;KPE;GMC;EEE;GFE;CRC;AWE;STC;8CUC;KVE;GSC;EEE;GFE;CXC;AcG;SZC;gDaC;KbE;GYC;EDE;GCE;CdC;AgBG;ChBI"}},"type":"js/module"}]}