{"dependencies":[{"name":"../constants/authConstants","data":{"isAsync":false}},{"name":"../services/auth.services","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.authActions = void 0;\n\n  var _authConstants = _$$_REQUIRE(_dependencyMap[0], \"../constants/authConstants\");\n\n  var _auth = _$$_REQUIRE(_dependencyMap[1], \"../services/auth.services\");\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[2], \"react-native\");\n\n  var authActions = {\n    login: login,\n    getUserToken: getUserToken,\n    saveUserToken: saveUserToken,\n    deleteUserToken: deleteUserToken,\n    clearLoginErrors: clearLoginErrors\n  };\n  exports.authActions = authActions;\n\n  function login(username, password) {\n    return function (dispatch) {\n      dispatch(request(username));\n\n      _auth.authService.login(username, password).then(function (user) {\n        console.log(\"login successful\");\n        dispatch(success(user));\n      }).catch(function (error) {\n        console.log(error.response.data.error);\n        var errorMessage = error.response.data.error;\n        dispatch(failure(errorMessage));\n      });\n    };\n\n    function request(user) {\n      return {\n        type: _authConstants.authConstants.LOGIN_REQUEST,\n        user: user\n      };\n    }\n\n    function success(user) {\n      return {\n        type: _authConstants.authConstants.LOGIN_SUCCESS,\n        user: user\n      };\n    }\n\n    function failure(error) {\n      return {\n        type: _authConstants.authConstants.LOGIN_FAILURE,\n        error: error\n      };\n    }\n  }\n\n  function getUserToken() {\n    return function (dispatch) {\n      _auth.authService.getItem(\"token\").then(function (value) {\n        dispatch(getToken(value));\n      });\n    };\n\n    function getToken(token) {\n      return {\n        type: _authConstants.authConstants.GET_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function saveUserToken(token) {\n    return function (dispatch) {\n      _auth.authService.saveItem(\"token\", token).then(function (value) {\n        dispatch(saveToken(value));\n      });\n    };\n\n    function saveToken(token) {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function deleteUserToken() {\n    return function (dispatch) {\n      _auth.authService.deleteItem(\"token\").then(function (value) {\n        dispatch(deleteToken());\n      });\n    };\n\n    function deleteToken() {\n      return {\n        type: _authConstants.authConstants.DELETE_TOKEN\n      };\n    }\n  }\n\n  function clearLoginErrors() {\n    return {\n      type: _authConstants.authConstants.CLEAR_LOGIN_ERRORS\n    };\n  }\n});","lineCount":107,"map":[[7,0,1,0],[9,0,2,0],[11,0,3,0],[13,0,5,7],[13,6,5,13,"authActions"],[13,17,5,24],[13,20,5,27],[14,0,6,2,"login"],[14,4,6,2,"login"],[14,9,6,7],[14,11,6,2,"login"],[14,16,5,27],[15,0,7,2,"getUserToken"],[15,4,7,2,"getUserToken"],[15,16,7,14],[15,18,7,2,"getUserToken"],[15,30,5,27],[16,0,8,2,"saveUserToken"],[16,4,8,2,"saveUserToken"],[16,17,8,15],[16,19,8,2,"saveUserToken"],[16,32,5,27],[17,0,9,2,"deleteUserToken"],[17,4,9,2,"deleteUserToken"],[17,19,9,17],[17,21,9,2,"deleteUserToken"],[17,36,5,27],[18,0,10,2,"clearLoginErrors"],[18,4,10,2,"clearLoginErrors"],[18,20,10,18],[18,22,10,2,"clearLoginErrors"],[19,0,5,27],[19,3,5,7],[22,0,13,0],[22,11,13,9,"login"],[22,16,13,0],[22,17,13,15,"username"],[22,25,13,0],[22,27,13,25,"password"],[22,35,13,0],[22,37,13,35],[23,0,14,2],[23,11,14,9],[23,21,14,9,"dispatch"],[23,29,14,17],[23,31,14,21],[24,0,15,4,"dispatch"],[24,6,15,4,"dispatch"],[24,14,15,12],[24,15,15,13,"request"],[24,22,15,20],[24,23,15,21,"username"],[24,31,15,20],[24,32,15,12],[24,33,15,4],[26,0,17,4,"authService"],[26,24,18,7,"login"],[26,29,17,4],[26,30,18,13,"username"],[26,38,17,4],[26,40,18,23,"password"],[26,48,17,4],[26,50,19,7,"then"],[26,54,17,4],[26,55,19,12],[26,65,19,12,"user"],[26,69,19,16],[26,71,19,20],[27,0,20,8,"console"],[27,8,20,8,"console"],[27,15,20,15],[27,16,20,16,"log"],[27,19,20,8],[27,20,20,20],[27,38,20,8],[28,0,21,8,"dispatch"],[28,8,21,8,"dispatch"],[28,16,21,16],[28,17,21,17,"success"],[28,24,21,24],[28,25,21,25,"user"],[28,29,21,24],[28,30,21,16],[28,31,21,8],[29,0,22,7],[29,7,17,4],[29,9,23,7,"catch"],[29,14,17,4],[29,15,23,13],[29,25,23,13,"error"],[29,30,23,18],[29,32,23,22],[30,0,24,8,"console"],[30,8,24,8,"console"],[30,15,24,15],[30,16,24,16,"log"],[30,19,24,8],[30,20,24,20,"error"],[30,25,24,25],[30,26,24,26,"response"],[30,34,24,20],[30,35,24,35,"data"],[30,39,24,20],[30,40,24,40,"error"],[30,45,24,8],[31,0,25,8],[31,12,25,14,"errorMessage"],[31,24,25,26],[31,27,25,29,"error"],[31,32,25,34],[31,33,25,35,"response"],[31,41,25,29],[31,42,25,44,"data"],[31,46,25,29],[31,47,25,49,"error"],[31,52,25,8],[32,0,26,8,"dispatch"],[32,8,26,8,"dispatch"],[32,16,26,16],[32,17,26,17,"failure"],[32,24,26,24],[32,25,26,25,"errorMessage"],[32,37,26,24],[32,38,26,16],[32,39,26,8],[33,0,27,7],[33,7,17,4],[34,0,28,3],[34,5,14,2],[36,0,30,2],[36,13,30,11,"request"],[36,20,30,2],[36,21,30,19,"user"],[36,25,30,2],[36,27,30,25],[37,0,31,4],[37,13,31,11],[38,0,31,13,"type"],[38,8,31,13,"type"],[38,12,31,17],[38,14,31,19,"authConstants"],[38,43,31,33,"LOGIN_REQUEST"],[38,56,31,11],[39,0,31,48,"user"],[39,8,31,48,"user"],[39,12,31,52],[39,14,31,48,"user"],[40,0,31,11],[40,7,31,4],[41,0,32,3],[43,0,33,2],[43,13,33,11,"success"],[43,20,33,2],[43,21,33,19,"user"],[43,25,33,2],[43,27,33,25],[44,0,34,4],[44,13,34,11],[45,0,34,13,"type"],[45,8,34,13,"type"],[45,12,34,17],[45,14,34,19,"authConstants"],[45,43,34,33,"LOGIN_SUCCESS"],[45,56,34,11],[46,0,34,48,"user"],[46,8,34,48,"user"],[46,12,34,52],[46,14,34,48,"user"],[47,0,34,11],[47,7,34,4],[48,0,35,3],[50,0,36,2],[50,13,36,11,"failure"],[50,20,36,2],[50,21,36,19,"error"],[50,26,36,2],[50,28,36,26],[51,0,37,4],[51,13,37,11],[52,0,37,13,"type"],[52,8,37,13,"type"],[52,12,37,17],[52,14,37,19,"authConstants"],[52,43,37,33,"LOGIN_FAILURE"],[52,56,37,11],[53,0,37,48,"error"],[53,8,37,48,"error"],[53,13,37,53],[53,15,37,48,"error"],[54,0,37,11],[54,7,37,4],[55,0,38,3],[56,0,39,1],[58,0,41,0],[58,11,41,9,"getUserToken"],[58,23,41,0],[58,26,41,24],[59,0,42,2],[59,11,42,9],[59,21,42,9,"dispatch"],[59,29,42,17],[59,31,42,21],[60,0,43,4,"authService"],[60,24,43,16,"getItem"],[60,31,43,4],[60,32,43,24],[60,39,43,4],[60,41,43,33,"then"],[60,45,43,4],[60,46,43,38],[60,56,43,38,"value"],[60,61,43,43],[60,63,43,47],[61,0,44,6,"dispatch"],[61,8,44,6,"dispatch"],[61,16,44,14],[61,17,44,15,"getToken"],[61,25,44,23],[61,26,44,24,"value"],[61,31,44,23],[61,32,44,14],[61,33,44,6],[62,0,45,5],[62,7,43,4],[63,0,46,3],[63,5,42,2],[65,0,48,2],[65,13,48,11,"getToken"],[65,21,48,2],[65,22,48,20,"token"],[65,27,48,2],[65,29,48,27],[66,0,49,4],[66,13,49,11],[67,0,49,13,"type"],[67,8,49,13,"type"],[67,12,49,17],[67,14,49,19,"authConstants"],[67,43,49,33,"GET_TOKEN"],[67,52,49,11],[68,0,49,44,"token"],[68,8,49,44,"token"],[68,13,49,49],[68,15,49,44,"token"],[69,0,49,11],[69,7,49,4],[70,0,50,3],[71,0,51,1],[73,0,53,0],[73,11,53,9,"saveUserToken"],[73,24,53,0],[73,25,53,23,"token"],[73,30,53,0],[73,32,53,30],[74,0,54,2],[74,11,54,9],[74,21,54,9,"dispatch"],[74,29,54,17],[74,31,54,21],[75,0,55,4,"authService"],[75,24,55,16,"saveItem"],[75,32,55,4],[75,33,55,25],[75,40,55,4],[75,42,55,34,"token"],[75,47,55,4],[75,49,55,41,"then"],[75,53,55,4],[75,54,55,46],[75,64,55,46,"value"],[75,69,55,51],[75,71,55,55],[76,0,56,6,"dispatch"],[76,8,56,6,"dispatch"],[76,16,56,14],[76,17,56,15,"saveToken"],[76,26,56,24],[76,27,56,25,"value"],[76,32,56,24],[76,33,56,14],[76,34,56,6],[77,0,57,5],[77,7,55,4],[78,0,58,3],[78,5,54,2],[80,0,60,2],[80,13,60,11,"saveToken"],[80,22,60,2],[80,23,60,21,"token"],[80,28,60,2],[80,30,60,28],[81,0,61,4],[81,13,61,11],[82,0,61,13,"type"],[82,8,61,13,"type"],[82,12,61,17],[82,14,61,19,"authConstants"],[82,43,61,33,"SAVE_TOKEN"],[82,53,61,11],[83,0,61,45,"token"],[83,8,61,45,"token"],[83,13,61,50],[83,15,61,45,"token"],[84,0,61,11],[84,7,61,4],[85,0,62,3],[86,0,63,1],[88,0,66,0],[88,11,66,9,"deleteUserToken"],[88,26,66,0],[88,29,66,27],[89,0,67,2],[89,11,67,9],[89,21,67,9,"dispatch"],[89,29,67,17],[89,31,67,21],[90,0,68,4,"authService"],[90,24,68,16,"deleteItem"],[90,34,68,4],[90,35,68,27],[90,42,68,4],[90,44,68,36,"then"],[90,48,68,4],[90,49,68,41],[90,59,68,41,"value"],[90,64,68,46],[90,66,68,50],[91,0,69,6,"dispatch"],[91,8,69,6,"dispatch"],[91,16,69,14],[91,17,69,15,"deleteToken"],[91,28,69,26],[91,30,69,14],[91,31,69,6],[92,0,70,5],[92,7,68,4],[93,0,71,3],[93,5,67,2],[95,0,73,2],[95,13,73,11,"deleteToken"],[95,24,73,2],[95,27,73,25],[96,0,74,4],[96,13,74,11],[97,0,74,13,"type"],[97,8,74,13,"type"],[97,12,74,17],[97,14,74,19,"authConstants"],[97,43,74,33,"DELETE_TOKEN"],[98,0,74,11],[98,7,74,4],[99,0,75,3],[100,0,76,1],[102,0,79,0],[102,11,79,9,"clearLoginErrors"],[102,27,79,0],[102,30,79,28],[103,0,80,2],[103,11,80,9],[104,0,81,4,"type"],[104,6,81,4,"type"],[104,10,81,8],[104,12,81,10,"authConstants"],[104,41,81,24,"CLEAR_LOGIN_ERRORS"],[105,0,80,9],[105,5,80,2],[106,0,83,1]],"functionMap":{"names":["<global>","login","<anonymous>","authService.login.then$argument_0","authService.login.then._catch$argument_0","request","success","failure","getUserToken","authService.getItem.then$argument_0","getToken","saveUserToken","authService.saveItem.then$argument_0","saveToken","deleteUserToken","authService.deleteItem.then$argument_0","deleteToken","clearLoginErrors"],"mappings":"AAA;ACY;SCC;YCK;ODG;aEC;OFI;GDC;EIE;GJE;EKC;GLE;EMC;GNE;CDC;AQE;SNC;sCOC;KPE;GMC;EEE;GFE;CRC;AWE;STC;8CUC;KVE;GSC;EEE;GFE;CXC;AcG;SZC;yCaC;KbE;GYC;EEE;GFE;CdC;AiBG;CjBI"}},"type":"js/module"}]}