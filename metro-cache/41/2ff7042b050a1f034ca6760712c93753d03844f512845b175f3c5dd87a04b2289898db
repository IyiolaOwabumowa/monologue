{"dependencies":[{"name":"../constants/authConstants","data":{"isAsync":false}},{"name":"../services/auth.services","data":{"isAsync":false}},{"name":"../actions/user.actions","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.authActions = void 0;\n\n  var _authConstants = _$$_REQUIRE(_dependencyMap[0], \"../constants/authConstants\");\n\n  var _auth = _$$_REQUIRE(_dependencyMap[1], \"../services/auth.services\");\n\n  var _user = _$$_REQUIRE(_dependencyMap[2], \"../actions/user.actions\");\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[3], \"react-native\");\n\n  var authActions = {\n    login: login,\n    getUserToken: getUserToken,\n    saveUserToken: saveUserToken,\n    deleteUserToken: deleteUserToken,\n    clearLoginErrors: clearLoginErrors\n  };\n  exports.authActions = authActions;\n\n  function login(username, password) {\n    return function (dispatch) {\n      dispatch(request(username));\n\n      _auth.authService.login(username, password).then(function (auth) {\n        _user.userActions.saveUserId(auth.id);\n\n        dispatch(saveUserToken(auth.token));\n        dispatch(success());\n      }).catch(function (error) {\n        var errorMessage = error.response.data.error;\n        dispatch(failure(errorMessage));\n      });\n    };\n\n    function request(user) {\n      return {\n        type: _authConstants.authConstants.LOGIN_REQUEST\n      };\n    }\n\n    function success(user) {\n      return {\n        type: _authConstants.authConstants.LOGIN_SUCCESS\n      };\n    }\n\n    function failure(error) {\n      return {\n        type: _authConstants.authConstants.LOGIN_FAILURE,\n        error: error\n      };\n    }\n\n    function saveToken() {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN\n      };\n    }\n  }\n\n  function getUserToken() {\n    return function (dispatch) {\n      _auth.authService.getItem(\"token\").then(function (value) {\n        dispatch(getToken(value));\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    function getToken(token) {\n      return {\n        type: _authConstants.authConstants.GET_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function saveUserToken(token) {\n    return function (dispatch) {\n      _auth.authService.saveItem(\"token\", token).then(function (token) {\n        dispatch(saveToken(token));\n      });\n    };\n\n    function saveToken(token) {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function deleteUserToken() {\n    return function (dispatch) {\n      _auth.authService.deleteItem(\"token\").then(function (value) {\n        dispatch(deleteToken());\n      });\n    };\n\n    function deleteToken() {\n      return {\n        type: _authConstants.authConstants.DELETE_TOKEN\n      };\n    }\n  }\n\n  function clearLoginErrors() {\n    return {\n      type: _authConstants.authConstants.CLEAR_LOGIN_ERRORS\n    };\n  }\n});","lineCount":116,"map":[[7,0,1,0],[9,0,2,0],[11,0,3,0],[13,0,4,0],[15,0,6,7],[15,6,6,13,"authActions"],[15,17,6,24],[15,20,6,27],[16,0,7,2,"login"],[16,4,7,2,"login"],[16,9,7,7],[16,11,7,2,"login"],[16,16,6,27],[17,0,8,2,"getUserToken"],[17,4,8,2,"getUserToken"],[17,16,8,14],[17,18,8,2,"getUserToken"],[17,30,6,27],[18,0,9,2,"saveUserToken"],[18,4,9,2,"saveUserToken"],[18,17,9,15],[18,19,9,2,"saveUserToken"],[18,32,6,27],[19,0,10,2,"deleteUserToken"],[19,4,10,2,"deleteUserToken"],[19,19,10,17],[19,21,10,2,"deleteUserToken"],[19,36,6,27],[20,0,11,2,"clearLoginErrors"],[20,4,11,2,"clearLoginErrors"],[20,20,11,18],[20,22,11,2,"clearLoginErrors"],[21,0,6,27],[21,3,6,7],[24,0,15,0],[24,11,15,9,"login"],[24,16,15,0],[24,17,15,15,"username"],[24,25,15,0],[24,27,15,25,"password"],[24,35,15,0],[24,37,15,35],[25,0,16,2],[25,11,16,9],[25,21,16,10,"dispatch"],[25,29,16,9],[25,31,16,23],[26,0,17,4,"dispatch"],[26,6,17,4,"dispatch"],[26,14,17,12],[26,15,17,13,"request"],[26,22,17,20],[26,23,17,21,"username"],[26,31,17,20],[26,32,17,12],[26,33,17,4],[28,0,19,4,"authService"],[28,24,20,7,"login"],[28,29,19,4],[28,30,20,13,"username"],[28,38,19,4],[28,40,20,23,"password"],[28,48,19,4],[28,50,21,7,"then"],[28,54,19,4],[28,55,21,12],[28,65,21,13,"auth"],[28,69,21,12],[28,71,21,22],[29,0,23,8,"userActions"],[29,26,23,20,"saveUserId"],[29,36,23,8],[29,37,23,31,"auth"],[29,41,23,35],[29,42,23,36,"id"],[29,44,23,8],[31,0,24,8,"dispatch"],[31,8,24,8,"dispatch"],[31,16,24,16],[31,17,24,17,"saveUserToken"],[31,30,24,30],[31,31,24,31,"auth"],[31,35,24,35],[31,36,24,36,"token"],[31,41,24,30],[31,42,24,16],[31,43,24,8],[32,0,25,8,"dispatch"],[32,8,25,8,"dispatch"],[32,16,25,16],[32,17,25,17,"success"],[32,24,25,24],[32,26,25,16],[32,27,25,8],[33,0,26,7],[33,7,19,4],[33,9,27,7,"catch"],[33,14,19,4],[33,15,27,13],[33,25,27,14,"error"],[33,30,27,13],[33,32,27,24],[34,0,28,8],[34,12,28,14,"errorMessage"],[34,24,28,26],[34,27,28,29,"error"],[34,32,28,34],[34,33,28,35,"response"],[34,41,28,29],[34,42,28,44,"data"],[34,46,28,29],[34,47,28,49,"error"],[34,52,28,8],[35,0,29,8,"dispatch"],[35,8,29,8,"dispatch"],[35,16,29,16],[35,17,29,17,"failure"],[35,24,29,24],[35,25,29,25,"errorMessage"],[35,37,29,24],[35,38,29,16],[35,39,29,8],[36,0,30,7],[36,7,19,4],[37,0,31,3],[37,5,16,2],[39,0,33,2],[39,13,33,11,"request"],[39,20,33,2],[39,21,33,19,"user"],[39,25,33,2],[39,27,33,25],[40,0,34,4],[40,13,34,11],[41,0,34,13,"type"],[41,8,34,13,"type"],[41,12,34,17],[41,14,34,19,"authConstants"],[41,43,34,33,"LOGIN_REQUEST"],[42,0,34,11],[42,7,34,4],[43,0,35,3],[45,0,36,2],[45,13,36,11,"success"],[45,20,36,2],[45,21,36,19,"user"],[45,25,36,2],[45,27,36,25],[46,0,37,4],[46,13,37,11],[47,0,37,13,"type"],[47,8,37,13,"type"],[47,12,37,17],[47,14,37,19,"authConstants"],[47,43,37,33,"LOGIN_SUCCESS"],[48,0,37,11],[48,7,37,4],[49,0,38,3],[51,0,39,2],[51,13,39,11,"failure"],[51,20,39,2],[51,21,39,19,"error"],[51,26,39,2],[51,28,39,26],[52,0,40,4],[52,13,40,11],[53,0,40,13,"type"],[53,8,40,13,"type"],[53,12,40,17],[53,14,40,19,"authConstants"],[53,43,40,33,"LOGIN_FAILURE"],[53,56,40,11],[54,0,40,48,"error"],[54,8,40,48,"error"],[54,13,40,53],[54,15,40,48,"error"],[55,0,40,11],[55,7,40,4],[56,0,41,3],[58,0,42,2],[58,13,42,11,"saveToken"],[58,22,42,2],[58,25,42,23],[59,0,43,4],[59,13,43,11],[60,0,43,13,"type"],[60,8,43,13,"type"],[60,12,43,17],[60,14,43,19,"authConstants"],[60,43,43,33,"SAVE_TOKEN"],[61,0,43,11],[61,7,43,4],[62,0,44,3],[63,0,45,1],[65,0,47,0],[65,11,47,9,"getUserToken"],[65,23,47,0],[65,26,47,24],[66,0,48,2],[66,11,48,9],[66,21,48,10,"dispatch"],[66,29,48,9],[66,31,48,23],[67,0,49,4,"authService"],[67,24,50,7,"getItem"],[67,31,49,4],[67,32,50,15],[67,39,49,4],[67,41,51,7,"then"],[67,45,49,4],[67,46,51,12],[67,56,51,13,"value"],[67,61,51,12],[67,63,51,23],[68,0,52,8,"dispatch"],[68,8,52,8,"dispatch"],[68,16,52,16],[68,17,52,17,"getToken"],[68,25,52,25],[68,26,52,26,"value"],[68,31,52,25],[68,32,52,16],[68,33,52,8],[69,0,53,7],[69,7,49,4],[69,9,54,7,"catch"],[69,14,49,4],[69,15,54,13],[69,25,54,14,"err"],[69,28,54,13],[69,30,54,22],[70,0,55,8,"console"],[70,8,55,8,"console"],[70,15,55,15],[70,16,55,16,"log"],[70,19,55,8],[70,20,55,20,"err"],[70,23,55,8],[71,0,56,7],[71,7,49,4],[72,0,57,3],[72,5,48,2],[74,0,59,2],[74,13,59,11,"getToken"],[74,21,59,2],[74,22,59,20,"token"],[74,27,59,2],[74,29,59,27],[75,0,60,4],[75,13,60,11],[76,0,60,13,"type"],[76,8,60,13,"type"],[76,12,60,17],[76,14,60,19,"authConstants"],[76,43,60,33,"GET_TOKEN"],[76,52,60,11],[77,0,60,44,"token"],[77,8,60,44,"token"],[77,13,60,49],[77,15,60,44,"token"],[78,0,60,11],[78,7,60,4],[79,0,61,3],[80,0,62,1],[82,0,64,0],[82,11,64,9,"saveUserToken"],[82,24,64,0],[82,25,64,23,"token"],[82,30,64,0],[82,32,64,30],[83,0,65,2],[83,11,65,9],[83,21,65,10,"dispatch"],[83,29,65,9],[83,31,65,23],[84,0,66,4,"authService"],[84,24,66,16,"saveItem"],[84,32,66,4],[84,33,66,25],[84,40,66,4],[84,42,66,34,"token"],[84,47,66,4],[84,49,66,41,"then"],[84,53,66,4],[84,54,66,46],[84,64,66,47,"token"],[84,69,66,46],[84,71,66,57],[85,0,68,6,"dispatch"],[85,8,68,6,"dispatch"],[85,16,68,14],[85,17,68,15,"saveToken"],[85,26,68,24],[85,27,68,25,"token"],[85,32,68,24],[85,33,68,14],[85,34,68,6],[86,0,69,5],[86,7,66,4],[87,0,70,3],[87,5,65,2],[89,0,72,2],[89,13,72,11,"saveToken"],[89,22,72,2],[89,23,72,21,"token"],[89,28,72,2],[89,30,72,28],[90,0,73,4],[90,13,73,11],[91,0,73,13,"type"],[91,8,73,13,"type"],[91,12,73,17],[91,14,73,19,"authConstants"],[91,43,73,33,"SAVE_TOKEN"],[91,53,73,11],[92,0,73,45,"token"],[92,8,73,45,"token"],[92,13,73,50],[92,15,73,45,"token"],[93,0,73,11],[93,7,73,4],[94,0,74,3],[95,0,75,1],[97,0,79,0],[97,11,79,9,"deleteUserToken"],[97,26,79,0],[97,29,79,27],[98,0,80,2],[98,11,80,9],[98,21,80,10,"dispatch"],[98,29,80,9],[98,31,80,23],[99,0,81,4,"authService"],[99,24,81,16,"deleteItem"],[99,34,81,4],[99,35,81,27],[99,42,81,4],[99,44,81,36,"then"],[99,48,81,4],[99,49,81,41],[99,59,81,42,"value"],[99,64,81,41],[99,66,81,52],[100,0,82,6,"dispatch"],[100,8,82,6,"dispatch"],[100,16,82,14],[100,17,82,15,"deleteToken"],[100,28,82,26],[100,30,82,14],[100,31,82,6],[101,0,83,5],[101,7,81,4],[102,0,84,3],[102,5,80,2],[104,0,86,2],[104,13,86,11,"deleteToken"],[104,24,86,2],[104,27,86,25],[105,0,87,4],[105,13,87,11],[106,0,87,13,"type"],[106,8,87,13,"type"],[106,12,87,17],[106,14,87,19,"authConstants"],[106,43,87,33,"DELETE_TOKEN"],[107,0,87,11],[107,7,87,4],[108,0,88,3],[109,0,89,1],[111,0,91,0],[111,11,91,9,"clearLoginErrors"],[111,27,91,0],[111,30,91,28],[112,0,92,2],[112,11,92,9],[113,0,93,4,"type"],[113,6,93,4,"type"],[113,10,93,8],[113,12,93,10,"authConstants"],[113,41,93,24,"CLEAR_LOGIN_ERRORS"],[114,0,92,9],[114,5,92,2],[115,0,95,1]],"functionMap":{"names":["<global>","login","<anonymous>","authService.login.then$argument_0","authService.login.then._catch$argument_0","request","success","failure","saveToken","getUserToken","authService.getItem.then$argument_0","authService.getItem.then._catch$argument_0","getToken","saveUserToken","authService.saveItem.then$argument_0","deleteUserToken","authService.deleteItem.then$argument_0","deleteToken","clearLoginErrors"],"mappings":"AAA;ACc;SCC;YCK;ODK;aEC;OFG;GDC;EIE;GJE;EKC;GLE;EMC;GNE;EOC;GPE;CDC;ASE;SPC;YQG;ORE;aSC;OTE;GOC;EGE;GHE;CTC;AaE;SXC;8CYC;KZG;GWC;ELE;GKE;CbC;AeI;SbC;yCcC;KdE;GaC;EEE;GFE;CfC;AkBE;ClBI"}},"type":"js/module"}]}