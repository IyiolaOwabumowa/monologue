{"dependencies":[{"name":"../constants/authConstants","data":{"isAsync":false}},{"name":"../services/auth.services","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.authActions = void 0;\n\n  var _authConstants = _$$_REQUIRE(_dependencyMap[0], \"../constants/authConstants\");\n\n  var _auth = _$$_REQUIRE(_dependencyMap[1], \"../services/auth.services\");\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[2], \"react-native\");\n\n  var authActions = {\n    login: login,\n    getUserToken: getUserToken,\n    saveUserToken: saveUserToken,\n    deleteUserToken: deleteUserToken,\n    clearLoginErrors: clearLoginErrors\n  };\n  exports.authActions = authActions;\n\n  function login(username, password) {\n    return function (dispatch) {\n      dispatch(request(username));\n\n      _auth.authService.login(username, password).then(function (token) {\n        saveUserToken(token);\n        dispatch(success());\n      }).catch(function (error) {\n        var errorMessage = error.response.data.error;\n        console.log(errorMessage);\n        dispatch(failure(errorMessage));\n      });\n    };\n\n    function request(user) {\n      return {\n        type: _authConstants.authConstants.LOGIN_REQUEST\n      };\n    }\n\n    function success(user) {\n      return {\n        type: _authConstants.authConstants.LOGIN_SUCCESS\n      };\n    }\n\n    function failure(error) {\n      return {\n        type: _authConstants.authConstants.LOGIN_FAILURE,\n        error: error\n      };\n    }\n\n    function saveToken(token) {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function getUserToken() {\n    return function (dispatch) {\n      _auth.authService.getItem(\"token\").then(function (value) {\n        dispatch(getToken(value));\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    function getToken(token) {\n      return {\n        type: _authConstants.authConstants.GET_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function saveUserToken(token) {\n    return function (dispatch) {\n      _auth.authService.saveItem(\"token\", token).then(function (value) {\n        dispatch(saveToken(value));\n      });\n    };\n\n    function saveToken(token) {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function deleteUserToken() {\n    return function (dispatch) {\n      _auth.authService.deleteItem(\"token\").then(function (value) {\n        dispatch(deleteToken());\n      });\n    };\n\n    function deleteToken() {\n      return {\n        type: _authConstants.authConstants.DELETE_TOKEN\n      };\n    }\n  }\n\n  function clearLoginErrors() {\n    return {\n      type: _authConstants.authConstants.CLEAR_LOGIN_ERRORS\n    };\n  }\n});","lineCount":114,"map":[[7,0,1,0],[9,0,2,0],[11,0,3,0],[13,0,5,7],[13,6,5,13,"authActions"],[13,17,5,24],[13,20,5,27],[14,0,6,2,"login"],[14,4,6,2,"login"],[14,9,6,7],[14,11,6,2,"login"],[14,16,5,27],[15,0,7,2,"getUserToken"],[15,4,7,2,"getUserToken"],[15,16,7,14],[15,18,7,2,"getUserToken"],[15,30,5,27],[16,0,8,2,"saveUserToken"],[16,4,8,2,"saveUserToken"],[16,17,8,15],[16,19,8,2,"saveUserToken"],[16,32,5,27],[17,0,9,2,"deleteUserToken"],[17,4,9,2,"deleteUserToken"],[17,19,9,17],[17,21,9,2,"deleteUserToken"],[17,36,5,27],[18,0,10,2,"clearLoginErrors"],[18,4,10,2,"clearLoginErrors"],[18,20,10,18],[18,22,10,2,"clearLoginErrors"],[19,0,5,27],[19,3,5,7],[22,0,13,0],[22,11,13,9,"login"],[22,16,13,0],[22,17,13,15,"username"],[22,25,13,0],[22,27,13,25,"password"],[22,35,13,0],[22,37,13,35],[23,0,14,2],[23,11,14,9],[23,21,14,9,"dispatch"],[23,29,14,17],[23,31,14,21],[24,0,15,4,"dispatch"],[24,6,15,4,"dispatch"],[24,14,15,12],[24,15,15,13,"request"],[24,22,15,20],[24,23,15,21,"username"],[24,31,15,20],[24,32,15,12],[24,33,15,4],[26,0,17,4,"authService"],[26,24,18,7,"login"],[26,29,17,4],[26,30,18,13,"username"],[26,38,17,4],[26,40,18,23,"password"],[26,48,17,4],[26,50,19,7,"then"],[26,54,17,4],[26,55,19,12],[26,65,19,12,"token"],[26,70,19,17],[26,72,19,21],[27,0,20,8,"saveUserToken"],[27,8,20,8,"saveUserToken"],[27,21,20,21],[27,22,20,22,"token"],[27,27,20,21],[27,28,20,8],[28,0,21,8,"dispatch"],[28,8,21,8,"dispatch"],[28,16,21,16],[28,17,21,17,"success"],[28,24,21,24],[28,26,21,16],[28,27,21,8],[29,0,22,7],[29,7,17,4],[29,9,23,7,"catch"],[29,14,17,4],[29,15,23,13],[29,25,23,13,"error"],[29,30,23,18],[29,32,23,22],[30,0,24,8],[30,12,24,14,"errorMessage"],[30,24,24,26],[30,27,24,29,"error"],[30,32,24,34],[30,33,24,35,"response"],[30,41,24,29],[30,42,24,44,"data"],[30,46,24,29],[30,47,24,49,"error"],[30,52,24,8],[31,0,25,8,"console"],[31,8,25,8,"console"],[31,15,25,15],[31,16,25,16,"log"],[31,19,25,8],[31,20,25,20,"errorMessage"],[31,32,25,8],[32,0,26,8,"dispatch"],[32,8,26,8,"dispatch"],[32,16,26,16],[32,17,26,17,"failure"],[32,24,26,24],[32,25,26,25,"errorMessage"],[32,37,26,24],[32,38,26,16],[32,39,26,8],[33,0,27,7],[33,7,17,4],[34,0,28,3],[34,5,14,2],[36,0,30,2],[36,13,30,11,"request"],[36,20,30,2],[36,21,30,19,"user"],[36,25,30,2],[36,27,30,25],[37,0,31,4],[37,13,31,11],[38,0,31,13,"type"],[38,8,31,13,"type"],[38,12,31,17],[38,14,31,19,"authConstants"],[38,43,31,33,"LOGIN_REQUEST"],[39,0,31,11],[39,7,31,4],[40,0,32,3],[42,0,33,2],[42,13,33,11,"success"],[42,20,33,2],[42,21,33,19,"user"],[42,25,33,2],[42,27,33,25],[43,0,34,4],[43,13,34,11],[44,0,34,13,"type"],[44,8,34,13,"type"],[44,12,34,17],[44,14,34,19,"authConstants"],[44,43,34,33,"LOGIN_SUCCESS"],[45,0,34,11],[45,7,34,4],[46,0,35,3],[48,0,36,2],[48,13,36,11,"failure"],[48,20,36,2],[48,21,36,19,"error"],[48,26,36,2],[48,28,36,26],[49,0,37,4],[49,13,37,11],[50,0,37,13,"type"],[50,8,37,13,"type"],[50,12,37,17],[50,14,37,19,"authConstants"],[50,43,37,33,"LOGIN_FAILURE"],[50,56,37,11],[51,0,37,48,"error"],[51,8,37,48,"error"],[51,13,37,53],[51,15,37,48,"error"],[52,0,37,11],[52,7,37,4],[53,0,38,3],[55,0,39,2],[55,13,39,11,"saveToken"],[55,22,39,2],[55,23,39,21,"token"],[55,28,39,2],[55,30,39,28],[56,0,40,4],[56,13,40,11],[57,0,40,13,"type"],[57,8,40,13,"type"],[57,12,40,17],[57,14,40,19,"authConstants"],[57,43,40,33,"SAVE_TOKEN"],[57,53,40,11],[58,0,40,45,"token"],[58,8,40,45,"token"],[58,13,40,50],[58,15,40,45,"token"],[59,0,40,11],[59,7,40,4],[60,0,41,3],[61,0,42,1],[63,0,44,0],[63,11,44,9,"getUserToken"],[63,23,44,0],[63,26,44,24],[64,0,45,2],[64,11,45,9],[64,21,45,9,"dispatch"],[64,29,45,17],[64,31,45,21],[65,0,46,4,"authService"],[65,24,46,16,"getItem"],[65,31,46,4],[65,32,46,24],[65,39,46,4],[65,41,46,33,"then"],[65,45,46,4],[65,46,46,38],[65,56,46,38,"value"],[65,61,46,43],[65,63,46,47],[66,0,47,6,"dispatch"],[66,8,47,6,"dispatch"],[66,16,47,14],[66,17,47,15,"getToken"],[66,25,47,23],[66,26,47,24,"value"],[66,31,47,23],[66,32,47,14],[66,33,47,6],[67,0,48,5],[67,7,46,4],[67,9,48,7,"catch"],[67,14,46,4],[67,15,48,13],[67,25,48,13,"err"],[67,28,48,16],[67,30,48,18],[68,0,49,6,"console"],[68,8,49,6,"console"],[68,15,49,13],[68,16,49,14,"log"],[68,19,49,6],[68,20,49,18,"err"],[68,23,49,6],[69,0,50,5],[69,7,46,4],[70,0,51,3],[70,5,45,2],[72,0,53,2],[72,13,53,11,"getToken"],[72,21,53,2],[72,22,53,20,"token"],[72,27,53,2],[72,29,53,27],[73,0,54,4],[73,13,54,11],[74,0,54,13,"type"],[74,8,54,13,"type"],[74,12,54,17],[74,14,54,19,"authConstants"],[74,43,54,33,"GET_TOKEN"],[74,52,54,11],[75,0,54,44,"token"],[75,8,54,44,"token"],[75,13,54,49],[75,15,54,44,"token"],[76,0,54,11],[76,7,54,4],[77,0,55,3],[78,0,56,1],[80,0,58,0],[80,11,58,9,"saveUserToken"],[80,24,58,0],[80,25,58,23,"token"],[80,30,58,0],[80,32,58,30],[81,0,59,2],[81,11,59,9],[81,21,59,9,"dispatch"],[81,29,59,17],[81,31,59,21],[82,0,60,4,"authService"],[82,24,60,16,"saveItem"],[82,32,60,4],[82,33,60,25],[82,40,60,4],[82,42,60,34,"token"],[82,47,60,4],[82,49,60,41,"then"],[82,53,60,4],[82,54,60,46],[82,64,60,46,"value"],[82,69,60,51],[82,71,60,55],[83,0,61,6,"dispatch"],[83,8,61,6,"dispatch"],[83,16,61,14],[83,17,61,15,"saveToken"],[83,26,61,24],[83,27,61,25,"value"],[83,32,61,24],[83,33,61,14],[83,34,61,6],[84,0,62,5],[84,7,60,4],[85,0,63,3],[85,5,59,2],[87,0,65,2],[87,13,65,11,"saveToken"],[87,22,65,2],[87,23,65,21,"token"],[87,28,65,2],[87,30,65,28],[88,0,66,4],[88,13,66,11],[89,0,66,13,"type"],[89,8,66,13,"type"],[89,12,66,17],[89,14,66,19,"authConstants"],[89,43,66,33,"SAVE_TOKEN"],[89,53,66,11],[90,0,66,45,"token"],[90,8,66,45,"token"],[90,13,66,50],[90,15,66,45,"token"],[91,0,66,11],[91,7,66,4],[92,0,67,3],[93,0,68,1],[95,0,71,0],[95,11,71,9,"deleteUserToken"],[95,26,71,0],[95,29,71,27],[96,0,72,2],[96,11,72,9],[96,21,72,9,"dispatch"],[96,29,72,17],[96,31,72,21],[97,0,73,4,"authService"],[97,24,73,16,"deleteItem"],[97,34,73,4],[97,35,73,27],[97,42,73,4],[97,44,73,36,"then"],[97,48,73,4],[97,49,73,41],[97,59,73,41,"value"],[97,64,73,46],[97,66,73,50],[98,0,74,6,"dispatch"],[98,8,74,6,"dispatch"],[98,16,74,14],[98,17,74,15,"deleteToken"],[98,28,74,26],[98,30,74,14],[98,31,74,6],[99,0,75,5],[99,7,73,4],[100,0,76,3],[100,5,72,2],[102,0,78,2],[102,13,78,11,"deleteToken"],[102,24,78,2],[102,27,78,25],[103,0,79,4],[103,13,79,11],[104,0,79,13,"type"],[104,8,79,13,"type"],[104,12,79,17],[104,14,79,19,"authConstants"],[104,43,79,33,"DELETE_TOKEN"],[105,0,79,11],[105,7,79,4],[106,0,80,3],[107,0,81,1],[109,0,84,0],[109,11,84,9,"clearLoginErrors"],[109,27,84,0],[109,30,84,28],[110,0,85,2],[110,11,85,9],[111,0,86,4,"type"],[111,6,86,4,"type"],[111,10,86,8],[111,12,86,10,"authConstants"],[111,41,86,24,"CLEAR_LOGIN_ERRORS"],[112,0,85,9],[112,5,85,2],[113,0,88,1]],"functionMap":{"names":["<global>","login","<anonymous>","authService.login.then$argument_0","authService.login.then._catch$argument_0","request","success","failure","saveToken","getUserToken","authService.getItem.then$argument_0","authService.getItem.then._catch$argument_0","getToken","saveUserToken","authService.saveItem.then$argument_0","deleteUserToken","authService.deleteItem.then$argument_0","deleteToken","clearLoginErrors"],"mappings":"AAA;ACY;SCC;YCK;ODG;aEC;OFI;GDC;EIE;GJE;EKC;GLE;EMC;GNE;EOC;GPE;CDC;ASE;SPC;sCQC;KRE,QS;KTE;GOC;EGE;GHE;CTC;AaE;SXC;8CYC;KZE;GWC;ELE;GKE;CbC;AeG;SbC;yCcC;KdE;GaC;EEE;GFE;CfC;AkBG;ClBI"}},"type":"js/module"}]}