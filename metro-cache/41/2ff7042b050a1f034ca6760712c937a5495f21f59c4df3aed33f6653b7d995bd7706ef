{"dependencies":[{"name":"../constants/authConstants","data":{"isAsync":false}},{"name":"../services/auth.services","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.authActions = void 0;\n\n  var _authConstants = _$$_REQUIRE(_dependencyMap[0], \"../constants/authConstants\");\n\n  var _auth = _$$_REQUIRE(_dependencyMap[1], \"../services/auth.services\");\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[2], \"react-native\");\n\n  var authActions = {\n    login: login,\n    getUserToken: getUserToken,\n    saveUserToken: saveUserToken,\n    deleteUserToken: deleteUserToken,\n    clearLoginErrors: clearLoginErrors\n  };\n  exports.authActions = authActions;\n\n  function login(username, password) {\n    return function (dispatch) {\n      dispatch(request(username));\n\n      _auth.authService.login(username, password).then(function (token) {\n        dispatch(saveUserToken);\n        dispatch(success());\n      }).catch(function (error) {\n        var errorMessage = error.response.data.error;\n        dispatch(failure(errorMessage));\n      });\n    };\n\n    function request(user) {\n      return {\n        type: _authConstants.authConstants.LOGIN_REQUEST\n      };\n    }\n\n    function success(user) {\n      return {\n        type: _authConstants.authConstants.LOGIN_SUCCESS\n      };\n    }\n\n    function failure(error) {\n      return {\n        type: _authConstants.authConstants.LOGIN_FAILURE,\n        error: error\n      };\n    }\n\n    function saveToken() {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN\n      };\n    }\n  }\n\n  function getUserToken() {\n    return function (dispatch) {\n      _auth.authService.getItem(\"token\").then(function (value) {\n        dispatch(getToken(value));\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    function getToken(token) {\n      return {\n        type: _authConstants.authConstants.GET_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function saveUserToken(token) {\n    return function (dispatch) {\n      _auth.authService.saveItem(\"token\", token).then(function (token) {\n        console.log(\"iyiola\");\n        dispatch(saveToken(token));\n      });\n    };\n\n    function saveToken(token) {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function deleteUserToken() {\n    return function (dispatch) {\n      _auth.authService.deleteItem(\"token\").then(function (value) {\n        dispatch(deleteToken());\n      });\n    };\n\n    function deleteToken() {\n      return {\n        type: _authConstants.authConstants.DELETE_TOKEN\n      };\n    }\n  }\n\n  function clearLoginErrors() {\n    return {\n      type: _authConstants.authConstants.CLEAR_LOGIN_ERRORS\n    };\n  }\n});","lineCount":113,"map":[[7,0,1,0],[9,0,2,0],[11,0,3,0],[13,0,5,7],[13,6,5,13,"authActions"],[13,17,5,24],[13,20,5,27],[14,0,6,2,"login"],[14,4,6,2,"login"],[14,9,6,7],[14,11,6,2,"login"],[14,16,5,27],[15,0,7,2,"getUserToken"],[15,4,7,2,"getUserToken"],[15,16,7,14],[15,18,7,2,"getUserToken"],[15,30,5,27],[16,0,8,2,"saveUserToken"],[16,4,8,2,"saveUserToken"],[16,17,8,15],[16,19,8,2,"saveUserToken"],[16,32,5,27],[17,0,9,2,"deleteUserToken"],[17,4,9,2,"deleteUserToken"],[17,19,9,17],[17,21,9,2,"deleteUserToken"],[17,36,5,27],[18,0,10,2,"clearLoginErrors"],[18,4,10,2,"clearLoginErrors"],[18,20,10,18],[18,22,10,2,"clearLoginErrors"],[19,0,5,27],[19,3,5,7],[22,0,13,0],[22,11,13,9,"login"],[22,16,13,0],[22,17,13,15,"username"],[22,25,13,0],[22,27,13,25,"password"],[22,35,13,0],[22,37,13,35],[23,0,14,2],[23,11,14,9],[23,21,14,10,"dispatch"],[23,29,14,9],[23,31,14,23],[24,0,15,4,"dispatch"],[24,6,15,4,"dispatch"],[24,14,15,12],[24,15,15,13,"request"],[24,22,15,20],[24,23,15,21,"username"],[24,31,15,20],[24,32,15,12],[24,33,15,4],[26,0,17,4,"authService"],[26,24,18,7,"login"],[26,29,17,4],[26,30,18,13,"username"],[26,38,17,4],[26,40,18,23,"password"],[26,48,17,4],[26,50,19,7,"then"],[26,54,17,4],[26,55,19,12],[26,65,19,13,"token"],[26,70,19,12],[26,72,19,23],[27,0,21,8,"dispatch"],[27,8,21,8,"dispatch"],[27,16,21,16],[27,17,21,17,"saveUserToken"],[27,30,21,16],[27,31,21,8],[28,0,22,8,"dispatch"],[28,8,22,8,"dispatch"],[28,16,22,16],[28,17,22,17,"success"],[28,24,22,24],[28,26,22,16],[28,27,22,8],[29,0,23,7],[29,7,17,4],[29,9,24,7,"catch"],[29,14,17,4],[29,15,24,13],[29,25,24,14,"error"],[29,30,24,13],[29,32,24,24],[30,0,25,8],[30,12,25,14,"errorMessage"],[30,24,25,26],[30,27,25,29,"error"],[30,32,25,34],[30,33,25,35,"response"],[30,41,25,29],[30,42,25,44,"data"],[30,46,25,29],[30,47,25,49,"error"],[30,52,25,8],[31,0,27,8,"dispatch"],[31,8,27,8,"dispatch"],[31,16,27,16],[31,17,27,17,"failure"],[31,24,27,24],[31,25,27,25,"errorMessage"],[31,37,27,24],[31,38,27,16],[31,39,27,8],[32,0,28,7],[32,7,17,4],[33,0,29,3],[33,5,14,2],[35,0,31,2],[35,13,31,11,"request"],[35,20,31,2],[35,21,31,19,"user"],[35,25,31,2],[35,27,31,25],[36,0,32,4],[36,13,32,11],[37,0,32,13,"type"],[37,8,32,13,"type"],[37,12,32,17],[37,14,32,19,"authConstants"],[37,43,32,33,"LOGIN_REQUEST"],[38,0,32,11],[38,7,32,4],[39,0,33,3],[41,0,34,2],[41,13,34,11,"success"],[41,20,34,2],[41,21,34,19,"user"],[41,25,34,2],[41,27,34,25],[42,0,35,4],[42,13,35,11],[43,0,35,13,"type"],[43,8,35,13,"type"],[43,12,35,17],[43,14,35,19,"authConstants"],[43,43,35,33,"LOGIN_SUCCESS"],[44,0,35,11],[44,7,35,4],[45,0,36,3],[47,0,37,2],[47,13,37,11,"failure"],[47,20,37,2],[47,21,37,19,"error"],[47,26,37,2],[47,28,37,26],[48,0,38,4],[48,13,38,11],[49,0,38,13,"type"],[49,8,38,13,"type"],[49,12,38,17],[49,14,38,19,"authConstants"],[49,43,38,33,"LOGIN_FAILURE"],[49,56,38,11],[50,0,38,48,"error"],[50,8,38,48,"error"],[50,13,38,53],[50,15,38,48,"error"],[51,0,38,11],[51,7,38,4],[52,0,39,3],[54,0,40,2],[54,13,40,11,"saveToken"],[54,22,40,2],[54,25,40,23],[55,0,41,4],[55,13,41,11],[56,0,41,13,"type"],[56,8,41,13,"type"],[56,12,41,17],[56,14,41,19,"authConstants"],[56,43,41,33,"SAVE_TOKEN"],[57,0,41,11],[57,7,41,4],[58,0,42,3],[59,0,43,1],[61,0,45,0],[61,11,45,9,"getUserToken"],[61,23,45,0],[61,26,45,24],[62,0,46,2],[62,11,46,9],[62,21,46,10,"dispatch"],[62,29,46,9],[62,31,46,23],[63,0,47,4,"authService"],[63,24,48,7,"getItem"],[63,31,47,4],[63,32,48,15],[63,39,47,4],[63,41,49,7,"then"],[63,45,47,4],[63,46,49,12],[63,56,49,13,"value"],[63,61,49,12],[63,63,49,23],[64,0,50,8,"dispatch"],[64,8,50,8,"dispatch"],[64,16,50,16],[64,17,50,17,"getToken"],[64,25,50,25],[64,26,50,26,"value"],[64,31,50,25],[64,32,50,16],[64,33,50,8],[65,0,51,7],[65,7,47,4],[65,9,52,7,"catch"],[65,14,47,4],[65,15,52,13],[65,25,52,14,"err"],[65,28,52,13],[65,30,52,22],[66,0,53,8,"console"],[66,8,53,8,"console"],[66,15,53,15],[66,16,53,16,"log"],[66,19,53,8],[66,20,53,20,"err"],[66,23,53,8],[67,0,54,7],[67,7,47,4],[68,0,55,3],[68,5,46,2],[70,0,57,2],[70,13,57,11,"getToken"],[70,21,57,2],[70,22,57,20,"token"],[70,27,57,2],[70,29,57,27],[71,0,58,4],[71,13,58,11],[72,0,58,13,"type"],[72,8,58,13,"type"],[72,12,58,17],[72,14,58,19,"authConstants"],[72,43,58,33,"GET_TOKEN"],[72,52,58,11],[73,0,58,44,"token"],[73,8,58,44,"token"],[73,13,58,49],[73,15,58,44,"token"],[74,0,58,11],[74,7,58,4],[75,0,59,3],[76,0,60,1],[78,0,62,0],[78,11,62,9,"saveUserToken"],[78,24,62,0],[78,25,62,23,"token"],[78,30,62,0],[78,32,62,30],[79,0,63,2],[79,11,63,9],[79,21,63,10,"dispatch"],[79,29,63,9],[79,31,63,23],[80,0,64,4,"authService"],[80,24,64,16,"saveItem"],[80,32,64,4],[80,33,64,25],[80,40,64,4],[80,42,64,34,"token"],[80,47,64,4],[80,49,64,41,"then"],[80,53,64,4],[80,54,64,46],[80,64,64,47,"token"],[80,69,64,46],[80,71,64,57],[81,0,65,6,"console"],[81,8,65,6,"console"],[81,15,65,13],[81,16,65,14,"log"],[81,19,65,6],[81,20,65,18],[81,28,65,6],[82,0,66,6,"dispatch"],[82,8,66,6,"dispatch"],[82,16,66,14],[82,17,66,15,"saveToken"],[82,26,66,24],[82,27,66,25,"token"],[82,32,66,24],[82,33,66,14],[82,34,66,6],[83,0,67,5],[83,7,64,4],[84,0,68,3],[84,5,63,2],[86,0,70,2],[86,13,70,11,"saveToken"],[86,22,70,2],[86,23,70,21,"token"],[86,28,70,2],[86,30,70,28],[87,0,71,4],[87,13,71,11],[88,0,71,13,"type"],[88,8,71,13,"type"],[88,12,71,17],[88,14,71,19,"authConstants"],[88,43,71,33,"SAVE_TOKEN"],[88,53,71,11],[89,0,71,45,"token"],[89,8,71,45,"token"],[89,13,71,50],[89,15,71,45,"token"],[90,0,71,11],[90,7,71,4],[91,0,72,3],[92,0,73,1],[94,0,75,0],[94,11,75,9,"deleteUserToken"],[94,26,75,0],[94,29,75,27],[95,0,76,2],[95,11,76,9],[95,21,76,10,"dispatch"],[95,29,76,9],[95,31,76,23],[96,0,77,4,"authService"],[96,24,77,16,"deleteItem"],[96,34,77,4],[96,35,77,27],[96,42,77,4],[96,44,77,36,"then"],[96,48,77,4],[96,49,77,41],[96,59,77,42,"value"],[96,64,77,41],[96,66,77,52],[97,0,78,6,"dispatch"],[97,8,78,6,"dispatch"],[97,16,78,14],[97,17,78,15,"deleteToken"],[97,28,78,26],[97,30,78,14],[97,31,78,6],[98,0,79,5],[98,7,77,4],[99,0,80,3],[99,5,76,2],[101,0,82,2],[101,13,82,11,"deleteToken"],[101,24,82,2],[101,27,82,25],[102,0,83,4],[102,13,83,11],[103,0,83,13,"type"],[103,8,83,13,"type"],[103,12,83,17],[103,14,83,19,"authConstants"],[103,43,83,33,"DELETE_TOKEN"],[104,0,83,11],[104,7,83,4],[105,0,84,3],[106,0,85,1],[108,0,87,0],[108,11,87,9,"clearLoginErrors"],[108,27,87,0],[108,30,87,28],[109,0,88,2],[109,11,88,9],[110,0,89,4,"type"],[110,6,89,4,"type"],[110,10,89,8],[110,12,89,10,"authConstants"],[110,41,89,24,"CLEAR_LOGIN_ERRORS"],[111,0,88,9],[111,5,88,2],[112,0,91,1]],"functionMap":{"names":["<global>","login","<anonymous>","authService.login.then$argument_0","authService.login.then._catch$argument_0","request","success","failure","saveToken","getUserToken","authService.getItem.then$argument_0","authService.getItem.then._catch$argument_0","getToken","saveUserToken","authService.saveItem.then$argument_0","deleteUserToken","authService.deleteItem.then$argument_0","deleteToken","clearLoginErrors"],"mappings":"AAA;ACY;SCC;YCK;ODI;aEC;OFI;GDC;EIE;GJE;EKC;GLE;EMC;GNE;EOC;GPE;CDC;ASE;SPC;YQG;ORE;aSC;OTE;GOC;EGE;GHE;CTC;AaE;SXC;8CYC;KZG;GWC;ELE;GKE;CbC;AeE;SbC;yCcC;KdE;GaC;EEE;GFE;CfC;AkBE;ClBI"}},"type":"js/module"}]}