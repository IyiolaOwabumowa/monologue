{"dependencies":[{"name":"../constants/authConstants","data":{"isAsync":false}},{"name":"../services/auth.services","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.authActions = void 0;\n\n  var _authConstants = _$$_REQUIRE(_dependencyMap[0], \"../constants/authConstants\");\n\n  var _auth = _$$_REQUIRE(_dependencyMap[1], \"../services/auth.services\");\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[2], \"react-native\");\n\n  var authActions = {\n    login: login,\n    clearLoginErrors: clearLoginErrors\n  };\n  exports.authActions = authActions;\n\n  function login(username, password) {\n    return function (dispatch) {\n      dispatch(request(username));\n\n      _auth.authService.login(username, password).then(function (user) {\n        console.log(\"login successful\");\n        dispatch(success(user));\n      }).catch(function (error) {\n        console.log(error.response.data.error);\n        var errorMessage = error.response.data.error;\n        dispatch(failure(errorMessage));\n      });\n    };\n\n    function request(user) {\n      return {\n        type: _authConstants.authConstants.LOGIN_REQUEST,\n        user: user\n      };\n    }\n\n    function success(user) {\n      return {\n        type: _authConstants.authConstants.LOGIN_SUCCESS,\n        user: user\n      };\n    }\n\n    function failure(error) {\n      return {\n        type: _authConstants.authConstants.LOGIN_FAILURE,\n        error: error\n      };\n    }\n\n    function getToken() {\n      return {\n        type: _authConstants.authConstants.GET_TOKEN\n      };\n    }\n  }\n\n  function getUserToken() {\n    return function (dispatch) {\n      _auth.authService.getItem(\"token\").then(function (value) {\n        dispatch(getToken(value));\n      });\n    };\n\n    function getToken(token) {\n      return {\n        type: _authConstants.authConstants.GET_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function saveUserToken(token) {\n    return function (dispatch) {\n      _auth.authService.saveItem(\"token\", token).then(function (value) {\n        dispatch(saveToken(value));\n      });\n    };\n\n    function saveToken(token) {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function deleteUserToken(token) {\n    return function (dispatch) {\n      _auth.authService.deleteItem(\"token\", token).then(function (value) {\n        dispatch(saveToken(value));\n      });\n    };\n\n    function saveToken(token) {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function clearLoginErrors() {\n    return {\n      type: _authConstants.authConstants.CLEAR_LOGIN_ERRORS\n    };\n  }\n});","lineCount":111,"map":[[7,0,1,0],[9,0,2,0],[11,0,3,0],[13,0,5,7],[13,6,5,13,"authActions"],[13,17,5,24],[13,20,5,27],[14,0,6,2,"login"],[14,4,6,2,"login"],[14,9,6,7],[14,11,6,2,"login"],[14,16,5,27],[15,0,8,2,"clearLoginErrors"],[15,4,8,2,"clearLoginErrors"],[15,20,8,18],[15,22,8,2,"clearLoginErrors"],[16,0,5,27],[16,3,5,7],[19,0,11,0],[19,11,11,9,"login"],[19,16,11,0],[19,17,11,15,"username"],[19,25,11,0],[19,27,11,25,"password"],[19,35,11,0],[19,37,11,35],[20,0,12,2],[20,11,12,9],[20,21,12,9,"dispatch"],[20,29,12,17],[20,31,12,21],[21,0,13,4,"dispatch"],[21,6,13,4,"dispatch"],[21,14,13,12],[21,15,13,13,"request"],[21,22,13,20],[21,23,13,21,"username"],[21,31,13,20],[21,32,13,12],[21,33,13,4],[23,0,15,4,"authService"],[23,24,16,7,"login"],[23,29,15,4],[23,30,16,13,"username"],[23,38,15,4],[23,40,16,23,"password"],[23,48,15,4],[23,50,17,7,"then"],[23,54,15,4],[23,55,17,12],[23,65,17,12,"user"],[23,69,17,16],[23,71,17,20],[24,0,18,8,"console"],[24,8,18,8,"console"],[24,15,18,15],[24,16,18,16,"log"],[24,19,18,8],[24,20,18,20],[24,38,18,8],[25,0,19,8,"dispatch"],[25,8,19,8,"dispatch"],[25,16,19,16],[25,17,19,17,"success"],[25,24,19,24],[25,25,19,25,"user"],[25,29,19,24],[25,30,19,16],[25,31,19,8],[26,0,20,7],[26,7,15,4],[26,9,21,7,"catch"],[26,14,15,4],[26,15,21,13],[26,25,21,13,"error"],[26,30,21,18],[26,32,21,22],[27,0,22,8,"console"],[27,8,22,8,"console"],[27,15,22,15],[27,16,22,16,"log"],[27,19,22,8],[27,20,22,20,"error"],[27,25,22,25],[27,26,22,26,"response"],[27,34,22,20],[27,35,22,35,"data"],[27,39,22,20],[27,40,22,40,"error"],[27,45,22,8],[28,0,23,8],[28,12,23,14,"errorMessage"],[28,24,23,26],[28,27,23,29,"error"],[28,32,23,34],[28,33,23,35,"response"],[28,41,23,29],[28,42,23,44,"data"],[28,46,23,29],[28,47,23,49,"error"],[28,52,23,8],[29,0,24,8,"dispatch"],[29,8,24,8,"dispatch"],[29,16,24,16],[29,17,24,17,"failure"],[29,24,24,24],[29,25,24,25,"errorMessage"],[29,37,24,24],[29,38,24,16],[29,39,24,8],[30,0,25,7],[30,7,15,4],[31,0,26,3],[31,5,12,2],[33,0,28,2],[33,13,28,11,"request"],[33,20,28,2],[33,21,28,19,"user"],[33,25,28,2],[33,27,28,25],[34,0,29,4],[34,13,29,11],[35,0,29,13,"type"],[35,8,29,13,"type"],[35,12,29,17],[35,14,29,19,"authConstants"],[35,43,29,33,"LOGIN_REQUEST"],[35,56,29,11],[36,0,29,48,"user"],[36,8,29,48,"user"],[36,12,29,52],[36,14,29,48,"user"],[37,0,29,11],[37,7,29,4],[38,0,30,3],[40,0,31,2],[40,13,31,11,"success"],[40,20,31,2],[40,21,31,19,"user"],[40,25,31,2],[40,27,31,25],[41,0,32,4],[41,13,32,11],[42,0,32,13,"type"],[42,8,32,13,"type"],[42,12,32,17],[42,14,32,19,"authConstants"],[42,43,32,33,"LOGIN_SUCCESS"],[42,56,32,11],[43,0,32,48,"user"],[43,8,32,48,"user"],[43,12,32,52],[43,14,32,48,"user"],[44,0,32,11],[44,7,32,4],[45,0,33,3],[47,0,34,2],[47,13,34,11,"failure"],[47,20,34,2],[47,21,34,19,"error"],[47,26,34,2],[47,28,34,26],[48,0,35,4],[48,13,35,11],[49,0,35,13,"type"],[49,8,35,13,"type"],[49,12,35,17],[49,14,35,19,"authConstants"],[49,43,35,33,"LOGIN_FAILURE"],[49,56,35,11],[50,0,35,48,"error"],[50,8,35,48,"error"],[50,13,35,53],[50,15,35,48,"error"],[51,0,35,11],[51,7,35,4],[52,0,36,3],[54,0,37,2],[54,13,37,11,"getToken"],[54,21,37,2],[54,24,37,22],[55,0,38,4],[55,13,38,11],[56,0,38,13,"type"],[56,8,38,13,"type"],[56,12,38,17],[56,14,38,19,"authConstants"],[56,43,38,33,"GET_TOKEN"],[57,0,38,11],[57,7,38,4],[58,0,39,3],[59,0,40,1],[61,0,42,0],[61,11,42,9,"getUserToken"],[61,23,42,0],[61,26,42,24],[62,0,43,2],[62,11,43,9],[62,21,43,9,"dispatch"],[62,29,43,17],[62,31,43,21],[63,0,44,4,"authService"],[63,24,44,16,"getItem"],[63,31,44,4],[63,32,44,24],[63,39,44,4],[63,41,44,33,"then"],[63,45,44,4],[63,46,44,38],[63,56,44,38,"value"],[63,61,44,43],[63,63,44,47],[64,0,45,6,"dispatch"],[64,8,45,6,"dispatch"],[64,16,45,14],[64,17,45,15,"getToken"],[64,25,45,23],[64,26,45,24,"value"],[64,31,45,23],[64,32,45,14],[64,33,45,6],[65,0,46,5],[65,7,44,4],[66,0,47,3],[66,5,43,2],[68,0,49,2],[68,13,49,11,"getToken"],[68,21,49,2],[68,22,49,20,"token"],[68,27,49,2],[68,29,49,27],[69,0,50,4],[69,13,50,11],[70,0,50,13,"type"],[70,8,50,13,"type"],[70,12,50,17],[70,14,50,19,"authConstants"],[70,43,50,33,"GET_TOKEN"],[70,52,50,11],[71,0,50,44,"token"],[71,8,50,44,"token"],[71,13,50,49],[71,15,50,44,"token"],[72,0,50,11],[72,7,50,4],[73,0,51,3],[74,0,52,1],[76,0,54,0],[76,11,54,9,"saveUserToken"],[76,24,54,0],[76,25,54,23,"token"],[76,30,54,0],[76,32,54,30],[77,0,55,2],[77,11,55,9],[77,21,55,9,"dispatch"],[77,29,55,17],[77,31,55,21],[78,0,56,4,"authService"],[78,24,56,16,"saveItem"],[78,32,56,4],[78,33,56,25],[78,40,56,4],[78,42,56,34,"token"],[78,47,56,4],[78,49,56,41,"then"],[78,53,56,4],[78,54,56,46],[78,64,56,46,"value"],[78,69,56,51],[78,71,56,55],[79,0,57,6,"dispatch"],[79,8,57,6,"dispatch"],[79,16,57,14],[79,17,57,15,"saveToken"],[79,26,57,24],[79,27,57,25,"value"],[79,32,57,24],[79,33,57,14],[79,34,57,6],[80,0,58,5],[80,7,56,4],[81,0,59,3],[81,5,55,2],[83,0,61,2],[83,13,61,11,"saveToken"],[83,22,61,2],[83,23,61,21,"token"],[83,28,61,2],[83,30,61,28],[84,0,62,4],[84,13,62,11],[85,0,62,13,"type"],[85,8,62,13,"type"],[85,12,62,17],[85,14,62,19,"authConstants"],[85,43,62,33,"SAVE_TOKEN"],[85,53,62,11],[86,0,62,45,"token"],[86,8,62,45,"token"],[86,13,62,50],[86,15,62,45,"token"],[87,0,62,11],[87,7,62,4],[88,0,63,3],[89,0,64,1],[91,0,67,0],[91,11,67,9,"deleteUserToken"],[91,26,67,0],[91,27,67,25,"token"],[91,32,67,0],[91,34,67,32],[92,0,68,2],[92,11,68,9],[92,21,68,9,"dispatch"],[92,29,68,17],[92,31,68,21],[93,0,69,4,"authService"],[93,24,69,16,"deleteItem"],[93,34,69,4],[93,35,69,27],[93,42,69,4],[93,44,69,36,"token"],[93,49,69,4],[93,51,69,43,"then"],[93,55,69,4],[93,56,69,48],[93,66,69,48,"value"],[93,71,69,53],[93,73,69,57],[94,0,70,6,"dispatch"],[94,8,70,6,"dispatch"],[94,16,70,14],[94,17,70,15,"saveToken"],[94,26,70,24],[94,27,70,25,"value"],[94,32,70,24],[94,33,70,14],[94,34,70,6],[95,0,71,5],[95,7,69,4],[96,0,72,3],[96,5,68,2],[98,0,74,2],[98,13,74,11,"saveToken"],[98,22,74,2],[98,23,74,21,"token"],[98,28,74,2],[98,30,74,28],[99,0,75,4],[99,13,75,11],[100,0,75,13,"type"],[100,8,75,13,"type"],[100,12,75,17],[100,14,75,19,"authConstants"],[100,43,75,33,"SAVE_TOKEN"],[100,53,75,11],[101,0,75,45,"token"],[101,8,75,45,"token"],[101,13,75,50],[101,15,75,45,"token"],[102,0,75,11],[102,7,75,4],[103,0,76,3],[104,0,77,1],[106,0,80,0],[106,11,80,9,"clearLoginErrors"],[106,27,80,0],[106,30,80,28],[107,0,81,2],[107,11,81,9],[108,0,82,4,"type"],[108,6,82,4,"type"],[108,10,82,8],[108,12,82,10,"authConstants"],[108,41,82,24,"CLEAR_LOGIN_ERRORS"],[109,0,81,9],[109,5,81,2],[110,0,84,1]],"functionMap":{"names":["<global>","login","<anonymous>","authService.login.then$argument_0","authService.login.then._catch$argument_0","request","success","failure","getToken","getUserToken","authService.getItem.then$argument_0","saveUserToken","authService.saveItem.then$argument_0","saveToken","deleteUserToken","authService.deleteItem.then$argument_0","clearLoginErrors"],"mappings":"AAA;ACU;SCC;YCK;ODG;aEC;OFI;GDC;EIE;GJE;EKC;GLE;EMC;GNE;EOC;GPE;CDC;ASE;SPC;sCQC;KRE;GOC;EDE;GCE;CTC;AWE;STC;8CUC;KVE;GSC;EEE;GFE;CXC;AcG;SZC;gDaC;KbE;GYC;EDE;GCE;CdC;AgBG;ChBI"}},"type":"js/module"}]}