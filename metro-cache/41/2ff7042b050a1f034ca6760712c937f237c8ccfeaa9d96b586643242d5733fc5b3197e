{"dependencies":[{"name":"../constants/authConstants","data":{"isAsync":false}},{"name":"../services/auth.services","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.authActions = void 0;\n\n  var _authConstants = _$$_REQUIRE(_dependencyMap[0], \"../constants/authConstants\");\n\n  var _auth = _$$_REQUIRE(_dependencyMap[1], \"../services/auth.services\");\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[2], \"react-native\");\n\n  var authActions = {\n    login: login,\n    getUserToken: getUserToken,\n    saveUserToken: saveUserToken,\n    deleteUserToken: deleteUserToken,\n    clearLoginErrors: clearLoginErrors\n  };\n  exports.authActions = authActions;\n\n  function login(username, password) {\n    return function (dispatch) {\n      dispatch(request(username));\n\n      _auth.authService.login(username, password).then(function (token) {\n        console.log(\"login successful\");\n        saveUserToken(token).then(function (val) {\n          console.log(val);\n        });\n        dispatch(success(token));\n      }).catch(function (error) {\n        console.log(error.response.data.error);\n        var errorMessage = error.response.data.error;\n        dispatch(failure(errorMessage));\n      });\n    };\n\n    function request(user) {\n      return {\n        type: _authConstants.authConstants.LOGIN_REQUEST,\n        user: user\n      };\n    }\n\n    function success(user) {\n      return {\n        type: _authConstants.authConstants.LOGIN_SUCCESS,\n        user: user\n      };\n    }\n\n    function failure(error) {\n      return {\n        type: _authConstants.authConstants.LOGIN_FAILURE,\n        error: error\n      };\n    }\n  }\n\n  function getUserToken() {\n    return function (dispatch) {\n      _auth.authService.getItem(\"token\").then(function (value) {\n        dispatch(getToken(value));\n      });\n    };\n\n    function getToken(token) {\n      return {\n        type: _authConstants.authConstants.GET_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function saveUserToken(token) {\n    return function (dispatch) {\n      _auth.authService.saveItem(\"token\", token).then(function (value) {\n        console.log(value + \" iyi\");\n        dispatch(saveToken(value));\n      });\n    };\n\n    function saveToken(token) {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function deleteUserToken() {\n    return function (dispatch) {\n      _auth.authService.deleteItem(\"token\").then(function (value) {\n        dispatch(deleteToken());\n      });\n    };\n\n    function deleteToken() {\n      return {\n        type: _authConstants.authConstants.DELETE_TOKEN\n      };\n    }\n  }\n\n  function clearLoginErrors() {\n    return {\n      type: _authConstants.authConstants.CLEAR_LOGIN_ERRORS\n    };\n  }\n});","lineCount":111,"map":[[7,0,1,0],[9,0,2,0],[11,0,3,0],[13,0,5,7],[13,6,5,13,"authActions"],[13,17,5,24],[13,20,5,27],[14,0,6,2,"login"],[14,4,6,2,"login"],[14,9,6,7],[14,11,6,2,"login"],[14,16,5,27],[15,0,7,2,"getUserToken"],[15,4,7,2,"getUserToken"],[15,16,7,14],[15,18,7,2,"getUserToken"],[15,30,5,27],[16,0,8,2,"saveUserToken"],[16,4,8,2,"saveUserToken"],[16,17,8,15],[16,19,8,2,"saveUserToken"],[16,32,5,27],[17,0,9,2,"deleteUserToken"],[17,4,9,2,"deleteUserToken"],[17,19,9,17],[17,21,9,2,"deleteUserToken"],[17,36,5,27],[18,0,10,2,"clearLoginErrors"],[18,4,10,2,"clearLoginErrors"],[18,20,10,18],[18,22,10,2,"clearLoginErrors"],[19,0,5,27],[19,3,5,7],[22,0,13,0],[22,11,13,9,"login"],[22,16,13,0],[22,17,13,15,"username"],[22,25,13,0],[22,27,13,25,"password"],[22,35,13,0],[22,37,13,35],[23,0,14,2],[23,11,14,9],[23,21,14,9,"dispatch"],[23,29,14,17],[23,31,14,21],[24,0,15,4,"dispatch"],[24,6,15,4,"dispatch"],[24,14,15,12],[24,15,15,13,"request"],[24,22,15,20],[24,23,15,21,"username"],[24,31,15,20],[24,32,15,12],[24,33,15,4],[26,0,17,4,"authService"],[26,24,18,7,"login"],[26,29,17,4],[26,30,18,13,"username"],[26,38,17,4],[26,40,18,23,"password"],[26,48,17,4],[26,50,19,7,"then"],[26,54,17,4],[26,55,19,12],[26,65,19,12,"token"],[26,70,19,17],[26,72,19,21],[27,0,20,8,"console"],[27,8,20,8,"console"],[27,15,20,15],[27,16,20,16,"log"],[27,19,20,8],[27,20,20,20],[27,38,20,8],[28,0,21,8,"saveUserToken"],[28,8,21,8,"saveUserToken"],[28,21,21,21],[28,22,21,22,"token"],[28,27,21,21],[28,28,21,8],[28,29,21,29,"then"],[28,33,21,8],[28,34,21,34],[28,44,21,34,"val"],[28,47,21,37],[28,49,21,39],[29,0,22,10,"console"],[29,10,22,10,"console"],[29,17,22,17],[29,18,22,18,"log"],[29,21,22,10],[29,22,22,22,"val"],[29,25,22,10],[30,0,23,9],[30,9,21,8],[31,0,24,8,"dispatch"],[31,8,24,8,"dispatch"],[31,16,24,16],[31,17,24,17,"success"],[31,24,24,24],[31,25,24,25,"token"],[31,30,24,24],[31,31,24,16],[31,32,24,8],[32,0,25,7],[32,7,17,4],[32,9,26,7,"catch"],[32,14,17,4],[32,15,26,13],[32,25,26,13,"error"],[32,30,26,18],[32,32,26,22],[33,0,27,8,"console"],[33,8,27,8,"console"],[33,15,27,15],[33,16,27,16,"log"],[33,19,27,8],[33,20,27,20,"error"],[33,25,27,25],[33,26,27,26,"response"],[33,34,27,20],[33,35,27,35,"data"],[33,39,27,20],[33,40,27,40,"error"],[33,45,27,8],[34,0,28,8],[34,12,28,14,"errorMessage"],[34,24,28,26],[34,27,28,29,"error"],[34,32,28,34],[34,33,28,35,"response"],[34,41,28,29],[34,42,28,44,"data"],[34,46,28,29],[34,47,28,49,"error"],[34,52,28,8],[35,0,29,8,"dispatch"],[35,8,29,8,"dispatch"],[35,16,29,16],[35,17,29,17,"failure"],[35,24,29,24],[35,25,29,25,"errorMessage"],[35,37,29,24],[35,38,29,16],[35,39,29,8],[36,0,30,7],[36,7,17,4],[37,0,31,3],[37,5,14,2],[39,0,33,2],[39,13,33,11,"request"],[39,20,33,2],[39,21,33,19,"user"],[39,25,33,2],[39,27,33,25],[40,0,34,4],[40,13,34,11],[41,0,34,13,"type"],[41,8,34,13,"type"],[41,12,34,17],[41,14,34,19,"authConstants"],[41,43,34,33,"LOGIN_REQUEST"],[41,56,34,11],[42,0,34,48,"user"],[42,8,34,48,"user"],[42,12,34,52],[42,14,34,48,"user"],[43,0,34,11],[43,7,34,4],[44,0,35,3],[46,0,36,2],[46,13,36,11,"success"],[46,20,36,2],[46,21,36,19,"user"],[46,25,36,2],[46,27,36,25],[47,0,37,4],[47,13,37,11],[48,0,37,13,"type"],[48,8,37,13,"type"],[48,12,37,17],[48,14,37,19,"authConstants"],[48,43,37,33,"LOGIN_SUCCESS"],[48,56,37,11],[49,0,37,48,"user"],[49,8,37,48,"user"],[49,12,37,52],[49,14,37,48,"user"],[50,0,37,11],[50,7,37,4],[51,0,38,3],[53,0,39,2],[53,13,39,11,"failure"],[53,20,39,2],[53,21,39,19,"error"],[53,26,39,2],[53,28,39,26],[54,0,40,4],[54,13,40,11],[55,0,40,13,"type"],[55,8,40,13,"type"],[55,12,40,17],[55,14,40,19,"authConstants"],[55,43,40,33,"LOGIN_FAILURE"],[55,56,40,11],[56,0,40,48,"error"],[56,8,40,48,"error"],[56,13,40,53],[56,15,40,48,"error"],[57,0,40,11],[57,7,40,4],[58,0,41,3],[59,0,42,1],[61,0,44,0],[61,11,44,9,"getUserToken"],[61,23,44,0],[61,26,44,24],[62,0,45,2],[62,11,45,9],[62,21,45,9,"dispatch"],[62,29,45,17],[62,31,45,21],[63,0,46,4,"authService"],[63,24,46,16,"getItem"],[63,31,46,4],[63,32,46,24],[63,39,46,4],[63,41,46,33,"then"],[63,45,46,4],[63,46,46,38],[63,56,46,38,"value"],[63,61,46,43],[63,63,46,47],[64,0,47,6,"dispatch"],[64,8,47,6,"dispatch"],[64,16,47,14],[64,17,47,15,"getToken"],[64,25,47,23],[64,26,47,24,"value"],[64,31,47,23],[64,32,47,14],[64,33,47,6],[65,0,48,5],[65,7,46,4],[66,0,49,3],[66,5,45,2],[68,0,51,2],[68,13,51,11,"getToken"],[68,21,51,2],[68,22,51,20,"token"],[68,27,51,2],[68,29,51,27],[69,0,52,4],[69,13,52,11],[70,0,52,13,"type"],[70,8,52,13,"type"],[70,12,52,17],[70,14,52,19,"authConstants"],[70,43,52,33,"GET_TOKEN"],[70,52,52,11],[71,0,52,44,"token"],[71,8,52,44,"token"],[71,13,52,49],[71,15,52,44,"token"],[72,0,52,11],[72,7,52,4],[73,0,53,3],[74,0,54,1],[76,0,56,0],[76,11,56,9,"saveUserToken"],[76,24,56,0],[76,25,56,23,"token"],[76,30,56,0],[76,32,56,30],[77,0,57,2],[77,11,57,9],[77,21,57,9,"dispatch"],[77,29,57,17],[77,31,57,21],[78,0,58,4,"authService"],[78,24,58,16,"saveItem"],[78,32,58,4],[78,33,58,25],[78,40,58,4],[78,42,58,34,"token"],[78,47,58,4],[78,49,58,41,"then"],[78,53,58,4],[78,54,58,46],[78,64,58,46,"value"],[78,69,58,51],[78,71,58,55],[79,0,59,6,"console"],[79,8,59,6,"console"],[79,15,59,13],[79,16,59,14,"log"],[79,19,59,6],[79,20,59,18,"value"],[79,25,59,23],[79,28,59,26],[79,34,59,6],[80,0,60,6,"dispatch"],[80,8,60,6,"dispatch"],[80,16,60,14],[80,17,60,15,"saveToken"],[80,26,60,24],[80,27,60,25,"value"],[80,32,60,24],[80,33,60,14],[80,34,60,6],[81,0,61,5],[81,7,58,4],[82,0,62,3],[82,5,57,2],[84,0,64,2],[84,13,64,11,"saveToken"],[84,22,64,2],[84,23,64,21,"token"],[84,28,64,2],[84,30,64,28],[85,0,65,4],[85,13,65,11],[86,0,65,13,"type"],[86,8,65,13,"type"],[86,12,65,17],[86,14,65,19,"authConstants"],[86,43,65,33,"SAVE_TOKEN"],[86,53,65,11],[87,0,65,45,"token"],[87,8,65,45,"token"],[87,13,65,50],[87,15,65,45,"token"],[88,0,65,11],[88,7,65,4],[89,0,66,3],[90,0,67,1],[92,0,70,0],[92,11,70,9,"deleteUserToken"],[92,26,70,0],[92,29,70,27],[93,0,71,2],[93,11,71,9],[93,21,71,9,"dispatch"],[93,29,71,17],[93,31,71,21],[94,0,72,4,"authService"],[94,24,72,16,"deleteItem"],[94,34,72,4],[94,35,72,27],[94,42,72,4],[94,44,72,36,"then"],[94,48,72,4],[94,49,72,41],[94,59,72,41,"value"],[94,64,72,46],[94,66,72,50],[95,0,73,6,"dispatch"],[95,8,73,6,"dispatch"],[95,16,73,14],[95,17,73,15,"deleteToken"],[95,28,73,26],[95,30,73,14],[95,31,73,6],[96,0,74,5],[96,7,72,4],[97,0,75,3],[97,5,71,2],[99,0,77,2],[99,13,77,11,"deleteToken"],[99,24,77,2],[99,27,77,25],[100,0,78,4],[100,13,78,11],[101,0,78,13,"type"],[101,8,78,13,"type"],[101,12,78,17],[101,14,78,19,"authConstants"],[101,43,78,33,"DELETE_TOKEN"],[102,0,78,11],[102,7,78,4],[103,0,79,3],[104,0,80,1],[106,0,83,0],[106,11,83,9,"clearLoginErrors"],[106,27,83,0],[106,30,83,28],[107,0,84,2],[107,11,84,9],[108,0,85,4,"type"],[108,6,85,4,"type"],[108,10,85,8],[108,12,85,10,"authConstants"],[108,41,85,24,"CLEAR_LOGIN_ERRORS"],[109,0,84,9],[109,5,84,2],[110,0,87,1]],"functionMap":{"names":["<global>","login","<anonymous>","authService.login.then$argument_0","saveUserToken.then$argument_0","authService.login.then._catch$argument_0","request","success","failure","getUserToken","authService.getItem.then$argument_0","getToken","saveUserToken","authService.saveItem.then$argument_0","saveToken","deleteUserToken","authService.deleteItem.then$argument_0","deleteToken","clearLoginErrors"],"mappings":"AAA;ACY;SCC;YCK;kCCE;SDE;ODE;aGC;OHI;GDC;EKE;GLE;EMC;GNE;EOC;GPE;CDC;ASE;SPC;sCQC;KRE;GOC;EEE;GFE;CTC;AYE;SVC;8CWC;KXG;GUC;EEE;GFE;CZC;AeG;SbC;yCcC;KdE;GaC;EEE;GFE;CfC;AkBG;ClBI"}},"type":"js/module"}]}